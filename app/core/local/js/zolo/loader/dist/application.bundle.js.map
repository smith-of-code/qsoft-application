{"version":3,"file":"application.bundle.js","sources":["../../stores/basketStore.js","../../mixins/NumberFormatMixin.js","../../components/miniBasket/src/component.js","../../stores/loyaltySalesReportStore.js","../../components/loyaltyStatusTale/src/component.js","../../components/ordersReport/src/component.js","../../components/loyaltyReport/src/component.js","../../components/salesReportPage/src/component.js","../../stores/petStore.js","../../../../../../../assets/js/modules/select.js","../../mixins/StringFormatMixin.js","../../components/gui/select/src/component.js","../../components/gui/dateInput/src/component.js","../../components/pets/src/component.js","../../stores/personalDataStore.js","../../components/personalData/src/component.js","../../stores/dropzoneStore.js","../../components/gui/dropzone/src/component.js","../../stores/legalEntityStore.js","../../components/legalEntity/src/component.js","../../stores/detailOfferStore.js","../../components/detailOffers/src/offerSelect.js","../../components/detailOffers/src/offerArticle.js","../../components/detailOffers/src/offerPrice.js","../../components/detailOffers/src/offerSelectMobile.js","../../../../../../../assets/js/modules/swiper.js","../../stores/wishlistStore.js","../../components/detailOffers/src/offerImage.js","../src/applicationsToRender.js","../src/storesToLoad.js","../src/loader.js"],"sourcesContent":["import {defineStore} from 'ui.vue3.pinia';\n\nexport const useBasketStore = defineStore('basket', {\n    state: () => ({\n        fetched: false,\n        items: {},\n        itemsCount: undefined,\n        basketPrice: undefined,\n        loading: false,\n    }),\n    actions: {\n        async getItem(id) {\n            if (!this.fetched) {\n                await this.fetchBasketTotals();\n                this.fetched = true;\n            }\n            return this.items[id];\n        },\n        async fetchBasketTotals() {\n            if (!this.fetched) {\n                this.loading = true;\n                try {\n                    const response = await BX.ajax.runComponentAction('zolo:sale.basket.basket.line', 'getBasketTotals', {\n                        data: { withPersonalPromotions: window.location.pathname === '/cart/' || window.location.pathname === '/order/make/' },\n                    }).then((response) => response.data);\n\n                    this.items = response.items;\n                    this.itemsCount = response.itemsCount;\n                    this.basketPrice = response.basketPrice;\n                } finally {\n                    this.loading = false;\n                }\n                this.fetched = true;\n            }\n        },\n        async increaseItem(offerId, detailPage = '', nonreturnable = false) {\n            this.loading = true;\n            try {\n                const response = await BX.ajax.runComponentAction('zolo:sale.basket.basket.line', 'increaseItem', {\n                    data: {\n                        offerId,\n                        detailPage,\n                        nonreturnable,\n                        withPersonalPromotions: window.location.pathname === '/cart/',\n                    }\n                }).then((response) => response.data);\n\n                this.items = response.items;\n                this.itemsCount = response.itemsCount;\n                this.basketPrice = response.basketPrice;\n            } finally {\n                this.loading = false;\n            }\n        },\n        async decreaseItem(offerId, quantity = 1) {\n            this.loading = true;\n            try {\n                const response = await BX.ajax.runComponentAction('zolo:sale.basket.basket.line', 'decreaseItem', {\n                    data: { offerId, quantity, withPersonalPromotions: window.location.pathname === '/cart/' }\n                }).then((response) => response.data);\n\n                this.items = response.items;\n                this.itemsCount = response.itemsCount;\n                this.basketPrice = response.basketPrice;\n            } finally {\n                this.loading = false;\n            }\n        },\n        async repeatOrder() {\n            const response = await BX.ajax.runComponentAction('zolo:sale.basket.basket.line', 'repeatOrder', {\n                data: { orderId },\n            }).then((response) => response.data);\n            this.items = response.items;\n            this.itemsCount = response.itemsCount;\n            this.basketPrice = response.basketPrice;\n\n            return response.missedProducts;\n        },\n    },\n})","export default {\n    methods: {\n        formatNumber(number, useDecimals = false) {\n            if (!number) return 0;\n            number = Math.round(parseFloat(number));\n            let result = number.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&\\u00A0');\n            return useDecimals ? result : result.substring(0, result.length - 3);\n        },\n    },\n};\n","import {useBasketStore} from \"../../../stores/basketStore\";\nimport {computed} from \"ui.vue3\";\nimport NumberFormatMixin from \"../../../mixins/NumberFormatMixin\";\n\nexport const MiniBasket = {\n    mixins: [NumberFormatMixin],\n\n    data() {\n        return {}\n    },\n\n    setup() {\n        const store = useBasketStore();\n        store.fetchBasketTotals();\n        return {\n            itemsCount: computed(() => store.itemsCount),\n            basketPrice: computed(() => store.basketPrice)\n        }\n    },\n\n    methods: {\n      showPriceWhole(item) {\n          const number = parseFloat(item);\n          const numberFloor = Math.floor(number);\n          return numberFloor.toLocaleString('ru-RU', {minimumFractionDigits: 0});\n      },\n\n      showPriceRemains(item) {\n          const number = parseFloat(item);\n          const numberFixed = number.toFixed(2);\n          const totalRemains = numberFixed.toString().split('.')[1];\n         \n          if (totalRemains === \"00\") {\n              return \n          } else {\n              return ',' + totalRemains\n          }\n      }\n    },\n    \n    template: `\n      <button type=\"button\" class=\"button button--simple button--red button--vertical\">\n      <span class=\"button__icon button__icon--mixed\">\n        <svg class=\"icon icon--basket\">\n          <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-basket\"></use>\n        </svg>\n        <span v-if=\"itemsCount\" class=\"button__icon-counter button__icon-counter--dark\">{{ itemsCount }}</span>\n        </span>\n      <span v-if=\"itemsCount\" class=\"personal__button-text button__text\">\n        <span class=\"personal__price-whole\">\n            {{ showPriceWhole(basketPrice) }}\n        </span>\n        <span class=\"personal__price-remains\">\n            {{ showPriceRemains(basketPrice) }}&nbsp;&#8381\n        </span>\n      </span>\n      <span v-else class=\"personal__button-text button__text\">Корзина</span>\n      </button>\n    `\n};","import { defineStore } from 'ui.vue3.pinia';\n\nexport const useLoyaltySalesReportStore = defineStore('loyaltySalesReport', {\n    actions: {\n        async getDataByPeriod(from, to) {\n            return await BX.ajax.runComponentAction('zolo:loyalty.sales.report', 'getDataByPeriod', {\n                mode: 'class',\n                data: { from, to },\n            });\n        },\n        async getTeamMembersDataByPeriod(ids, from, to) {\n            return await BX.ajax.runComponentAction('zolo:loyalty.sales.report', 'getTeamMembersDataByPeriod', {\n                mode: 'class',\n                data: { ids, from, to },\n            });\n        },\n    },\n})","import NumberFormatMixin from \"../../../mixins/NumberFormatMixin\";\n\nexport const LoyaltyStatusTale = {\n    mixins: [NumberFormatMixin],\n\n    props: {\n        currentValue: {\n            type: Number,\n            required: true,\n        },\n        targetValue: {\n            type: Number,\n            required: true,\n        },\n        label: {\n            type: String,\n            required: true,\n        },\n        isHold: {\n            type: Boolean,\n            default: true,\n        },\n        isConsultant: {\n            type: Boolean,\n            default: true,\n        },\n    },\n\n    template: `\n        <div v-if=\"targetValue > 0\" class=\"card-progress card-progress--unbordered\">\n            <div class=\"card-progress__inner\">\n                <p class=\"card-progress__title\">\n                    {{ label }}\n                </p>\n                <div v-if=\"currentValue / targetValue < 0.5\" class=\"card-progress__mark\">\n                    <svg class=\"card-progress__icon icon icon--cat-serious\">\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-sad\"></use>\n                    </svg>\n                    <span class=\"card-progress__mark-text\">\n                        Нужно больше усилий\n                    </span>\n                </div>\n                <div v-else-if=\"currentValue / targetValue < 1\" class=\"card-progress__mark\">\n                    <svg class=\"card-progress__icon icon icon--cat-serious\">\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-serious\"></use>\n                    </svg>\n                    <span class=\"card-progress__mark-text\">\n                        Хорошо получается\n                    </span>\n                </div>\n                <div v-else-if=\"currentValue / targetValue == 1\" class=\"card-progress__mark\">\n                    <svg class=\"card-progress__icon icon icon--cat-serious\">\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-smile\"></use>\n                    </svg>\n                    <span class=\"card-progress__mark-text\">\n                        Цель достигнута\n                    </span>\n                </div>\n                <div v-else class=\"card-progress__mark\">\n                    <svg class=\"card-progress__icon icon icon--cat-serious\">\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-happy\"></use>\n                    </svg>\n                    <span class=\"card-progress__mark-text\">\n                        Просто фантастика\n                    </span>\n                </div>\n                <div class=\"card-progress__wrapper\">\n                    <div class=\"card-progress__progress progress-bar\">\n                        <div\n                            class=\"progress-bar__filler\"\n                            :style=\"{ width: ((currentValue * 100 / targetValue) < 100 ? (currentValue * 100 / targetValue) : 100) + '%' }\"\n                            :class=\"{ \n                                'progress-bar__filler--green': targetValue - currentValue <= 0,\n                                'progress-bar__filler--red': targetValue - currentValue > 0,\n                             }\"\n                        ></div>\n                    </div>\n                    <div class=\"card-progress__bottom\">\n                        <div class=\"card-progress__amount amount\">\n                            <p\n                                class=\"amount__target\"\n                                :class=\"{\n                                    'amount__target--green': targetValue - currentValue <= 0,\n                                    'amount__target--red': targetValue - currentValue > 0,\n                                }\"\n                            >\n                                {{ formatNumber(currentValue) }} ₽\n                            </p>\n                            <p class=\"amount__total\">\n                                из {{ formatNumber(targetValue) }} ₽\n                            </p>\n                        </div>\n                        <div v-if=\"targetValue - currentValue > 0\" class=\"card-progress__status\">\n                            <p class=\"card-progress__text\">\n                                Осталось {{ formatNumber(targetValue - currentValue) }}&nbsp;₽\n                            </p>\n                        </div>\n                        <div v-else-if=\"targetValue - currentValue == 0\" class=\"card-progress__status\">\n                            <p class=\"card-progress__text\">\n                                Выполнено\n                            </p>\n                        </div>\n                        <div v-else class=\"card-progress__status\">\n                            <p class=\"card-progress__text\">\n                                Перевыполнено на  {{ formatNumber(currentValue - targetValue) }}&nbsp;₽\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-progress__warning warning\">\n                    <div class=\"warning__mark\">\n                        <button type=\"button\" class=\"button button--iconed button--simple button--red\" data-fancybox=\"\" data-modal-type=\"modal\" :data-src=\"isHold ? '#hold-conditions' : '#upgrade-conditions'\">\n                            <span class=\"button__icon\">\n                                <svg class=\"icon icon--basket warning__icon\">\n                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-attention\"></use>\n                                </svg>\n                            </span>\n                        </button>\n                    </div>\n                    \n                    <p class=\"warning__text\">\n                        {{ isHold ? isConsultant ? 'Условия поддержания уровня' : 'Условия удержания скидки' : 'Условия повышения уровня' }}\n                    </p>\n                </div>\n                <article v-if=\"isHold\" id=\"hold-conditions\" class=\"modal modal--full box box--circle box--hanging\" style=\"display: none\">\n                    <div class=\"modal__content\">\n                        <header class=\"modal__section modal__section--header\">\n                            <p class=\"heading heading--average\">Условия поддержания уровня</p>\n                        </header>\n\n                        <section class=\"modal__section modal__section--content\">\n                            <div class=\"conditions\">\n                                <div class=\"conditions__block\">\n                                    <h5 class=\"conditions__title\">\n                                        Условия поддержания уровня для {{isConsultant ? \"К1\" : \"В1\"}}:\n                                    </h5>\n                                    <ul class=\"conditions__list\">\n                                        <li class=\"conditions__item\">\n                                            Совершение личных покупок на общую сумму {{ formatNumber(5000) }} рублей за период в 3 последовательных месяца (квартал);\n                                        </li>\n                                    </ul>\n                                </div>\n\n                                <div class=\"conditions__block\">\n                                    <h5 class=\"conditions__title\">\n                                        Условия поддержания уровня для {{isConsultant ? \"К2\" : \"В2\"}} (единовременное соблюдение всех условий):\n                                    </h5>\n\n                                    <ul class=\"conditions__list\">\n                                        <li class=\"conditions__item\">\n                                            Совершение личных покупок на сумму {{ formatNumber(5000) }} рублей каждый месяц за период в 3 последовательных месяца (квартал);\n                                        </li>\n\n                                        <li class=\"conditions__item\">\n                                            Совершение групповых покупок на сумму {{ formatNumber(7000) }} рублей каждый месяц за период в 3 последовательных месяца (квартал);\n                                        </li>\n                                    </ul>\n\n                                    <p class=\"conditions__text\">Переход на уровень {{isConsultant ? \"К2\" : \"В2\"}} возможен в течение 3 последовательных месяцев при соблюдении условий перехода на уровень {{isConsultant ? \"К2\" : \"В2\"}};\n                                    </p>\n                                    <p class=\"conditions__text\">При несоблюдении условий поддержания уровня {{isConsultant ? \"К2\" : \"В2\"}} будет выполняться переход на уровень {{isConsultant ? \"К1\" : \"В1\"}}.</p>\n                                </div>\n\n                                <div class=\"conditions__block\">\n                                    <h5 class=\"conditions__title\">\n                                        Условия поддержания уровня для {{isConsultant ? \"К3\" : \"В3\"}} (единовременное соблюдение всех условий):\n                                    </h5>\n\n                                    <ul class=\"conditions__list\">\n                                        <li class=\"conditions__item\">\n                                            Совершение личных покупок на сумму {{ formatNumber(10000) }} рублей каждый месяц за период в 3 последовательных месяца (квартал);\n                                        </li>\n\n                                        <li class=\"conditions__item\">\n                                            Совершение групповых покупок на сумму {{ formatNumber(20000) }} рублей каждый месяц за период в 3 последовательных месяца (квартал);\n                                        </li>\n                                    </ul>\n\n                                    <p class=\"conditions__text\">Переход на уровень {{isConsultant ? \"К3\" : \"В3\"}} возможен в течение 6 последовательных месяцев при соблюдении условий перехода на уровень {{isConsultant ? \"К3\" : \"В3\"}};\n\n                                    </p>\n                                    <p class=\"conditions__text\">При несоблюдении условий поддержания уровня {{isConsultant ? \"К3\" : \"В3\"}} будет выполняться переход на уровень {{isConsultant ? \"К2\" : \"В2\"}}.</p>\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n                </article>\n                <article v-else id=\"upgrade-conditions\" class=\"modal modal--full box box--circle box--hanging\" style=\"display: none\">\n                    <div class=\"modal__content\">\n                        <header class=\"modal__section modal__section--header\">\n                            <p class=\"heading heading--average\">Условия повышения уровня</p>\n                        </header>\n\n                        <section class=\"modal__section modal__section--content\">\n                            <div class=\"conditions\">\n                                <div class=\"conditions__block\">\n                                    <h5 class=\"conditions__title\">\n                                        Условия повышения уровня до {{isConsultant ? \"К2\" : \"В2\"}} (единовременное соблюдение всех условий):\n                                    </h5>\n\n                                    <ul class=\"conditions__list\">\n                                        <li class=\"conditions__item\">\n                                            Совершение личных покупок на общую сумму {{ formatNumber(10000) }} рублей за период в 3 последовательных месяца (квартал);\n                                        </li>\n\n                                        <li class=\"conditions__item\">\n                                            Совершение групповых покупок на общую сумму {{ formatNumber(10000) }} рублей за период в 3 последовательных месяца (квартал);\n                                        </li>\n                                    </ul>\n\n                                    <p class=\"conditions__text\">Переход на уровень {{isConsultant ? \"К2\" : \"В2\"}} возможен в течение 3 последовательных месяцев при соблюдении условий перехода на уровень {{isConsultant ? \"К2\" : \"В2\"}};</p>\n                                </div>\n\n                                <div class=\"conditions__block\">\n                                    <h5 class=\"conditions__title\">\n                                        Условия повышения уровня до {{isConsultant ? \"К3\" : \"В3\"}} (единовременное соблюдение всех условий):\n                                    </h5>\n\n                                    <ul class=\"conditions__list\">\n                                        <li class=\"conditions__item\">\n                                            Совершение личных покупок на общую сумму {{ formatNumber(50000) }} рублей за период в 6 последовательных месяца (два последовательных квартала);\n                                        </li>\n\n                                        <li class=\"conditions__item\">\n                                            Совершение групповых покупок на общую сумму {{ formatNumber(100000) }} рублей за период в 6 последовательных месяца (два последовательных квартала);\n                                        </li>\n                                    </ul>\n\n                                    <p class=\"conditions__text\">Переход на уровень {{isConsultant ? \"К3\" : \"В3\"}} возможен в течение 6 последовательных месяцев при соблюдении условий перехода на уровень {{isConsultant ? \"К3\" : \"В3\"}};</p>\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n                </article>\n            </div>\n        </div>\n        <div v-else class=\"card-progress card-progress--success card-progress--unbordered\">\n            <div class=\"card-progress__inner card-progress__inner--columed\">\n                <div class=\"card-progress__image\">\n                    <svg class=\"card-progress__image-pic icon icon--cat-cheerful\">\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-cheerful\"></use>\n                    </svg>\n                </div>\n                <p class=\"card-progress__text\">У Вас максимальный уровень</p>\n            </div>\n        </div>\n    `\n};","import NumberFormatMixin from \"../../../mixins/NumberFormatMixin\";\n\nexport const OrdersReport = {\n    mixins: [NumberFormatMixin],\n\n    data() {\n        return {\n            label: this.isGroup ? 'групповых' : 'личных',\n            label2: this.isGroup ? 'группового' : 'личного',\n        };\n    },\n\n    props: {\n        ordersReport: {\n            type: Object,\n            required: true,\n        },\n        isGroup: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    methods: {\n        showPriceWhole(item) {\n            const number = parseFloat(item);\n            const numberFloor = Math.floor(number);\n            return numberFloor.toLocaleString('ru-RU', {minimumFractionDigits: 0});\n        },\n  \n        showPriceRemains(item) {\n            const number = parseFloat(item);\n            const numberFixed = number.toFixed(2);\n            const totalRemains = numberFixed.toString().split('.')[1];\n           \n            if (totalRemains === \"00\") {\n                return \n            } else {\n                return ',' + totalRemains\n            }\n        }\n      },\n      \n    template: `\n        <div class=\"participant__block\">\n            <!--Результаты-->\n            <div class=\"results\">\n                <ul class=\"results__list\">\n                    <li class=\"results__item\">\n                        <!--Результат-->\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Сумма всех {{ label }} заказов</p>\n                                <p class=\"result__total\">{{ formatNumber(ordersReport.total_sum) }} ₽</p>\n                            </div>\n                        </div>\n                        <!--/Результат-->\n                    </li>\n\n                    <li class=\"results__item\">\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Сумма {{ label }} заказов за текущий отчетный период</p>\n                                <p class=\"result__total\">{{ formatNumber(ordersReport.current_period_sum) }} ₽</p>\n                            </div>\n                        </div>\n                    </li>\n\n                    <li v-if=\"ordersReport.current_period_bonuses\" class=\"results__item\">\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Сумма {{ label }} баллов за текущий период</p>\n                                <p class=\"result__total\">{{ formatNumber(ordersReport.current_period_bonuses, false) }} ББ</p>\n                            </div>\n                        </div>\n                    </li>\n\n                    <li class=\"results__item\">\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Количество {{ label }} заказов со статусом «Оплачен»</p>\n                                <p class=\"result__total\">{{ formatNumber(ordersReport.paid_orders_count, false) }}</p>\n                            </div>\n                        </div>\n                    </li>\n\n                    <li class=\"results__item\">\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Количество {{ label }} заказов со статусом «Возврат»</p>\n                                <p class=\"result__total\">\n                                    {{ formatNumber(Number(ordersReport.part_refunded_orders_count) + Number(ordersReport.full_refunded_orders_count), false) }}\n                                </p>\n                            </div>\n                            <div class=\"result__addition\">\n                                <div data-toggle-visibility-container>\n                                    <button type=\"button\" class=\"button button--simple button--gray button--small\" data-toggle-visibility-action=\"hide\">\n                                        <span class=\"button__icon button__icon--mini button__icon--right\">\n                                            <svg class=\"icon icon--arrow-up\">\n                                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-down\"></use>\n                                            </svg>\n                                        </span>\n                                        <span class=\"button__text\" data-toggle-visibility-action-text=\"{&quot;show&quot;:&quot;Показать детализацию&quot;, &quot;hide&quot;:&quot;Скрыть детализацию&quot;}\">Показать детализацию</span>\n                                    </button>\n\n                                    <div data-toggle-visibility-block style=\"display: none;\">\n                                        <!--Возвраты-->\n                                        <div class=\"result__return\">\n                                            <div class=\"result__return-item\">\n                                                <p class=\"result__return-name\">Количество полных возвратов</p>\n                                                <p class=\"result__return-total\">\n                                                    {{ formatNumber(ordersReport.full_refunded_orders_count, false) }}\n                                                </p>\n                                            </div>\n                                            <div class=\"result__return-item\">\n                                                <p class=\"result__return-name\">Количество частичных возвратов</p>\n                                                <p class=\"result__return-total\">\n                                                    {{ formatNumber(ordersReport.part_refunded_orders_count, false) }}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <!--/Возвраты-->\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n\n                    <li v-if=\"ordersReport.last_order_date\" class=\"results__item\">\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Дата последнего {{ label2 }} заказа</p>\n                                <p class=\"result__total\">{{ ordersReport.last_order_date }}</p>\n                            </div>\n                        </div>\n                    </li>\n\n                    <li v-if=\"ordersReport.last_month_products.length\" class=\"results__item\">\n                        <div class=\"result\">\n                            <div class=\"result__main\">\n                                <p class=\"result__title\">Количество товаров со всех {{ label }} заказов за последний месяц</p>\n                                <p class=\"result__total\">{{ ordersReport.last_month_products.length }}</p>\n                            </div>\n                            <div class=\"result__addition\">\n                                <div data-toggle-visibility-container>\n                                    <button type=\"button\" class=\"button button--simple button--gray button--small\" data-toggle-visibility-action=\"hide\">\n                                        <span class=\"button__icon button__icon--mini button__icon--right\">\n                                            <svg class=\"icon icon--arrow-up\">\n                                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-down\"></use>\n                                            </svg>\n                                        </span>\n                                        <span class=\"button__text\" data-toggle-visibility-action-text=\"{&quot;show&quot;:&quot;Показать детализацию&quot;, &quot;hide&quot;:&quot;Скрыть детализацию&quot;}\">Показать детализацию</span>\n                                    </button>\n                                    <!--Таблица товаров-->\n                                    <div class=\"result__products table-list\" data-toggle-visibility-block style=\"display: none;\">\n                                        <div class=\"table-list__head\">\n                                            <div class=\"table-list__cell\">\n                                                <p class=\"table-list__name\">\n                                                    Наименование\n                                                </p>\n                                            </div>\n                                            <div class=\"table-list__cell table-list__cell--desktop\">\n                                                <p class=\"table-list__name\">\n                                                    Цена\n                                                </p>\n                                            </div>\n                                            <div class=\"table-list__cell table-list__cell--desktop\">\n                                                <p class=\"table-list__name\">\n                                                    Количество\n                                                </p>\n                                            </div>\n                                            <div class=\"table-list__cell table-list__cell--desktop\">\n                                                <p class=\"table-list__name\">\n                                                    Сумма\n                                                </p>\n                                            </div>\n                                        </div>\n\n                                        <ul class=\"table-list__list table-list__list--limited\" data-scrollbar>\n                                            <li v-for=\"product in ordersReport.last_month_products\" :key=\"product.article\" class=\"table-list__item\">\n                                                <article class=\"product-line\">\n                                                    <a class=\"product-line__link\" :href=\"product.link\"></a>\n                                                    <div class=\"product-line__inner\">\n                                                        <div class=\"product-line__info\">\n                                                            <div class=\"product-line__image\">\n                                                                <img :src=\"product.picture\" alt=\"#\" class=\"product-line__image-picture\">\n                                                            </div>\n                                                            <div class=\"product-line__wrapper\">\n                                                                <h2 class=\"product-line__title\">\n                                                                    {{ product.name }}\n                                                                </h2>\n                                                                <p class=\"product-line__subtitle\">\n                                                                    Арт. {{ product.article }}\n                                                                </p>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"product-line__characteristic\">\n                                                            <ul class=\"product-line__list\">\n                                                                <li class=\"product-line__params product-line__params--span\">\n                                                                    <p class=\"product-line__text\">\n                                                                        <span class=\"product-line__params-name\">\n                                                                            Цена:\n                                                                        </span>\n                                                                        <span class=\"product-line__params-value\">\n                                                                            <span class=\"product-line__params-value--whole\">\n                                                                                {{ showPriceWhole(product.price) }}\n                                                                            </span>\n                                                                            <span class=\"product-line__params-value--remains\">\n                                                                                {{ showPriceRemains(product.price) }}&nbsp;₽\n                                                                            </span>\n                                                                        </span>\n                                                                    </p>\n                                                                </li> \n                                                                <li class=\"product-line__params\">\n                                                                    <p class=\"product-line__text\">\n                                                                        <span class=\"product-line__params-name\">\n                                                                            Количество:\n                                                                        </span>\n                                                                        <span class=\"product-line__params-value\">\n                                                                            {{ product.quantity }}\n                                                                        </span>\n                                                                    </p>\n                                                                </li> \n                                                                <li class=\"product-line__params product-line__params--bold\">\n                                                                    <p class=\"product-line__text\">\n                                                                        <span class=\"product-line__params-name\">\n                                                                            Сумма:\n                                                                        </span>\n                                                                        <span class=\"product-line__params-value\">\n                                                                            <span class=\"product-line__params-value--whole\">\n                                                                                {{ showPriceWhole(product.price * product.quantity) }}\n                                                                            </span>\n                                                                            <span class=\"product-line__params-value--remains\">\n                                                                                {{ showPriceRemains(product.price * product.quantity) }}&nbsp;₽\n                                                                            </span>\n                                                                        </span>\n                                                                    </p>\n                                                                </li> \n                                                            </ul>\n                                                        </div>\n                                                    </div>\n                                                </article>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    <!--/Таблица товаров-->\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <!--Результаты-->\n        </div>\n    `\n};","import { useLoyaltySalesReportStore } from '../../../stores/loyaltySalesReportStore';\nimport { LoyaltyStatusTale } from \"../../loyaltyStatusTale/src/component\";\nimport { OrdersReport } from \"../../ordersReport/src/component\";\nimport NumberFormatMixin from \"../../../mixins/NumberFormatMixin\";\n\nlet id = 0;\n\nexport const LoyaltyReport = {\n    components: { LoyaltyStatusTale, OrdersReport },\n\n    mixins: [NumberFormatMixin],\n\n    data() {\n        return {\n            componentId: `loyalty-report${++id}`,\n            mutableLoyaltyStatus: {},\n            mutableBonusesIncome: {},\n            mutableOrdersReport: {},\n        }\n    },\n\n    props: {\n        user: {\n            type: Object,\n            required: true,\n        },\n        ordersReport: {\n            type: Object,\n            required: true,\n        },\n        currentAccountingPeriod: {\n            type: Object,\n            required: true,\n        },\n        accountingPeriods: {\n            type: Array,\n            required: true,\n        },\n        loyaltyStatus: {\n            type: Object,\n            required: true,\n        },\n        bonusesIncome: {\n            type: Object,\n            required: true,\n            default: {}\n        },\n        accordion: {\n            type: Boolean,\n            default: false,\n        },\n        title: {\n            type: String,\n            default: \"Мой заработок\",\n        },\n    },\n\n    setup() {\n        return { loyaltySalesReportStore: useLoyaltySalesReportStore() };\n    },\n\n    created() {\n        this.mutableLoyaltyStatus = this.loyaltyStatus;\n        this.mutableBonusesIncome = this.bonusesIncome;\n        this.mutableOrdersReport = this.ordersReport;\n    },\n\n    mounted() {\n        if (!this.accordion) {\n            $('select[name=accounting_periods]').on('change', () => this.changeAccountingPeriod());\n        }\n    },\n\n    methods: {\n        acceptColor: (label) => {\n            if (label === 'За покупки группы') {\n                return '#945DAB'\n            } else if (label === 'С личных покупок') {\n                return '#2C877F'\n            } else if (label === 'За приглашенных консультантов') {\n                return '#D82F49'\n            } else if (label === 'С товаров по персональной акции') {\n                return '#C73C5E'\n            } else if (label === 'За переход на К1') {\n                return '#D26925'\n            } else if (label === 'За переход на К2') {\n                return '#C99308'\n            } else if (label === 'За переход на К3') {\n                return '#2D8859'\n            } else if (label === 'За удержание на К3') {\n                return '#3887B5'\n            } else {\n                return '#333'\n            }\n        },\n\n        async changeAccountingPeriod(data) {\n            if (!data) {\n                const period = $('select[name=accounting_periods]').val().split('-');\n                const response = await this.loyaltySalesReportStore.getDataByPeriod(period[0], period[1]);\n                data = response.data;\n            }\n\n            this.mutableLoyaltyStatus = data.loyalty_status;\n            this.mutableOrdersReport = data.orders_report;\n            this.mutableBonusesIncome = data.bonuses_income;\n            \n            let component = this;\n            const diagram = $(`#${this.componentId}`)[0];\n            if (diagram) {\n                let dataChart = this.mutableBonusesIncome.js_data;\n                diagram.myChart.data = {\n                    labels: dataChart.labels,\n                    datasets: [\n                        {\n                            data: dataChart.datasets[0].data,\n                            backgroundColor: function(context) {\n                                const value = context.chart.data;\n                                const label = value.labels.map((item, index) => {\n                                    return component.acceptColor(item);\n                                });\n                                return label\n                            },\n                        }\n                    ]\n                }\n                diagram.myChart.update();\n            }\n        },\n    },\n\n    template: `\n        <div :class=\"{ 'accordeon__item': accordion, 'participant__item': accordion, participant: !accordion, 'participant--accounting': !accordion }\" :data-accordeon=\"accordion\">\n            <div class=\"participant__header box box--rounded-sm\" :class=\"{ 'accordeon__header': accordion, 'participant__item': !accordion, 'box--gray': !accordion }\">\n                <div class=\"participant__row\">\n                    <div class=\"participant__col participant__col--avatar\">\n                        <div class=\"participant__avatar avatar avatar--accent avatar--big\">\n                            <div class=\"avatar__box\">\n                                <img :src=\"user.photo\" class=\"avatar__picture\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"participant__col participant__col--name\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">ФИО</span>\n                            <span class=\"participant__info-value participant__info-value--truncate participant__info-value--accent\" :data-tippy-content=\"user.name_initials\" data-show-text>{{ user.name_initials }}</span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"participant__row participant__row--separated\">\n                    <div class=\"participant__col participant__col--id\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">ID</span>\n                            <span class=\"participant__info-value\">{{ user.id }}</span>\n                        </div>\n                    </div>\n\n                    <div v-if=\"user.pets\" class=\"participant__col participant__col--pets\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">Питомец</span>\n                            <div v-if=\"!user.pets.length\" class=\"participant__info-pets\">\n                                <div class=\"participant__info-pet participant__info-pet--none\">\n                                    Нет\n                                </div>\n                            </div>\n                            <div v-else class=\"participant__info-pets\">\n                                <div v-for=\"pet in user.pets.slice(0,2)\" :key=\"pet\" class=\"participant__info-pet\" :class=\"'participant__info-pet--' + pet\">\n                                    <svg class=\"icon\" :class=\"'icon--' + pet\">\n                                        <use :xlink:href=\"'/local/templates/.default/images/icons/sprite.svg#icon-' + pet + '-seating'\"></use>\n                                    </svg>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                  \n                    <div v-else class=\"participant__col participant__col--level\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">Уровень</span>\n                            <span class=\"participant__info-value\">{{ user.loyalty_level ?  user.loyalty_level : '&nbsp;' }}</span>\n                        </div>\n                    </div>\n\n                    <div class=\"participant__col participant__col--date\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">На сайте с</span>\n                            <span class=\"participant__info-value\">{{ user.date_register ? user.date_register : '&nbsp;' }}</span>\n                        </div>\n                    </div>\n\n                    <div class=\"participant__col participant__col--tel participant__col--separated\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">Телефон</span>\n                            <span class=\"participant__info-value\">\n                                {{ user.phone ? user.phone : '&nbsp;' }}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"participant__row\">\n                    <div class=\"participant__col participant__col--email\">\n                        <div class=\"participant__info\">\n                            <span class=\"participant__info-name\">Email</span>\n                            <span class=\"participant__info-value participant__info-value--truncate\" :data-tippy-content=\"user.email\" data-show-text>{{ user.email ? user.email : '&nbsp;' }}</span>\n                        </div>\n                    </div>\n                </div>\n                \n                <div v-if=\"accordion\" class=\"participant__row participant__row--toggle\" data-accordeon-toggle>\n                    <p class=\"participant__show\">Подробнее</p>\n                    <button type=\"button\" class=\"accordeon__toggle button button--circular button--mini button--covered button--red-white\" >\n                        <span class=\"accordeon__toggle-icon button__icon\">\n                            <svg class=\"icon icon--arrow-down\">\n                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-down\"></use>\n                            </svg>\n                        </span>\n                    </button>\n                </div>\n            </div>\n\n            <div :class=\"{ 'accordeon__body': accordion, 'accounting__section-box': !accordion, 'section__box': !accordion, 'box': !accordion, 'box--gray': !accordion }\" :data-accordeon-content=\"accordion\">\n                <div v-if=\"!accordion\" class=\"accounting__period filter filter--content\">\n                    <form class=\"accounting__period-form form\">\n                        <div class=\"accounting__period-heading\">\n                            <div class=\"accounting__period-name heading heading--small\">\n                                Выберите период отчета\n                            </div>\n\n                            <div class=\"form__field\">\n                                <div class=\"form__field-block form__field-block--input\">\n                                    <div class=\"form__control\">\n                                        <div class=\"accounting__period-select select select--mitigate select--small select--common\" data-select>\n                                            <select class=\"select__control\" name=\"accounting_periods\" data-select-control data-placeholder=\"Период\">\n                                                <option><!-- пустой option для placeholder --></option>\n                                                <option\n                                                  v-for=\"accountingPeriod in accountingPeriods\"\n                                                  :key=\"accountingPeriod.name\"\n                                                  :selected=\"accountingPeriod.name === currentAccountingPeriod.name\"\n                                                  :value=\"accountingPeriod.from + '-' + accountingPeriod.to\"\n                                                >{{ accountingPeriod.name }}</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n\n                <div v-if=\"user.is_consultant && Object.entries(this.bonusesIncome).length !== 0\" class=\"accounting__diagramm\" \n                    :hidden=\"!parseInt(mutableBonusesIncome.total)\">\n                    <h5 class=\"accounting__diagramm-title\">{{title}}</h5>\n\n                    <div class=\"diagramm diagramm--simple\">\n                        <div class=\"diagramm__row\">\n                            <div class=\"diagramm__col diagramm__col--diagramm\">\n                                <div class=\"diagramm__main\">\n                                    <canvas\n                                        width=\"227\"\n                                        height=\"227\"\n                                        :id=\"componentId\"\n                                        :data-chart='JSON.stringify(mutableBonusesIncome.js_data)'\n                                        data-chart-type='stats'\n                                    ></canvas>\n                                    <div class=\"diagramm__sum\">\n                                        {{ mutableBonusesIncome.total ? formatNumber(mutableBonusesIncome.total) : 0 }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"diagramm__col diagramm__col--sum\">\n                                <p class=\"diagramm__title\">Сумма всех заработанных баллов:</p>\n\n                                <div class=\"diagramm__results\">\n                                    <div\n                                        v-for=\"(bonusesIncome, bonusesIncomeKey) in mutableBonusesIncome.js_data.labels\"\n                                        :key=\"bonusesIncomeKey\"\n                                        class=\"diagramm__result\"\n                                    >\n                                        <span class=\"diagramm__result-icon\" :style=\"{ 'background-color': acceptColor(bonusesIncome) }\"></span>\n                                        <span class=\"diagramm__result-text\">{{ bonusesIncome ? bonusesIncome : 'Не определено' }}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div v-if=\"user.is_consultant\" class=\"participant__section\">\n                    <h5 class=\"participant__section-title\">\n                        Плановые показатели\n                    </h5>\n\n                    <div class=\"tabs tabs--white tabs--small tabs--circle tabs--red tabs--full-mob\" data-tabs>\n                        <nav class=\"tabs__items\">\n                            <ul class=\"tabs__list\">\n                                <li class=\"tabs__item tabs__item--active\" data-tab=\"block1\">\n                                    Личные\n                                </li>\n\n                                <li class=\"tabs__item\" data-tab=\"block2\">\n                                    Групповые\n                                </li>\n                            </ul>\n                        </nav>\n\n                        <div class=\"tabs__body\">\n                            <!--Таб личные-->\n                            <div class=\"tabs__block tabs__block--active\" data-tab-section=\"block1\">\n                                <div class=\"participant__block\">\n                                    <div class=\"participant__progress cards-progress\">\n                                        <ul class=\"cards-progress__list\">\n                                            <li v-if=\"mutableLoyaltyStatus.self.hold_value\" class=\"cards-progress__item\">\n                                                <LoyaltyStatusTale\n                                                    :current-value=\"mutableLoyaltyStatus.self.current_value\"\n                                                    :target-value=\"mutableLoyaltyStatus.self.hold_value\"\n                                                    label=\"Поддержание уровня по личным покупкам\"\n                                                />\n                                            </li>\n                                            <li class=\"cards-progress__item\">\n                                                <LoyaltyStatusTale\n                                                    :current-value=\"mutableLoyaltyStatus.self.current_value\"\n                                                    :target-value=\"mutableLoyaltyStatus.self.upgrade_value\"\n                                                    :is-hold=\"false\"\n                                                    label=\"Повышение уровня по личным покупкам\"\n                                                />\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                            <!--/Таб личные-->\n\n                            <!--Таб групповые-->\n                            <div class=\"tabs__block\" data-tab-section=\"block2\">\n                                <div class=\"participant__block\">\n                                    <div class=\"participant__progress cards-progress\">\n                                        <ul class=\"cards-progress__list\">\n                                            <li v-if=\"mutableLoyaltyStatus.team.hold_value > 0\" class=\"cards-progress__item\">\n                                                <LoyaltyStatusTale\n                                                    :current-value=\"mutableLoyaltyStatus.team.current_value\"\n                                                    :target-value=\"mutableLoyaltyStatus.team.hold_value\"\n                                                    label=\"Поддержание уровня по групповым покупкам\"\n                                                />\n                                            </li>\n                                            <li class=\"cards-progress__item\">\n                                                <LoyaltyStatusTale\n                                                    :current-value=\"mutableLoyaltyStatus.team.current_value\"\n                                                    :target-value=\"mutableLoyaltyStatus.team.upgrade_value\"\n                                                    :is-hold=\"false\"\n                                                    label=\"Повышение уровня по групповым покупкам\"\n                                                />\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                            <!--/Таб групповые-->\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"participant__section\">\n                    <h5 class=\"participant__section-title\">\n                        Покупки\n                    </h5>\n\n                    <div class=\"tabs tabs--white tabs--small tabs--circle tabs--red tabs--full-mob\" data-tabs>\n                        <nav v-if=\"user.is_consultant\" class=\"tabs__items\">\n                            <ul class=\"tabs__list\">\n                                <li class=\"tabs__item tabs__item--active\" data-tab=\"block1\">\n                                    Личные\n                                </li>\n\n                                <li class=\"tabs__item\" data-tab=\"block2\">\n                                    Групповые\n                                </li>\n                            </ul>\n                        </nav>\n\n                        <div class=\"tabs__body\">\n                        <template v-if=\"user.is_consultant\">\n                            <!--Таб Личные-->\n                            <div class=\"tabs__block tabs__block--active\" data-tab-section=\"block1\">\n                                <OrdersReport :orders-report=\"mutableOrdersReport.self\" />\n                            </div>\n                            <!--/Таб Личные-->\n\n                            <!--Таб Групповые-->\n                            <div class=\"tabs__block\" data-tab-section=\"block2\">\n                                <OrdersReport :orders-report=\"mutableOrdersReport.team\" :isGroup=\"true\" />\n                            </div>\n                            <!--/Таб Групповые-->\n                        </template>\n                        <template v-else>\n                            <!--Таб Личные-->\n                            <div class=\"tabs__block tabs__block--active\">\n                                <OrdersReport :orders-report=\"mutableOrdersReport.self\" />\n                            </div>\n                            <!--/Таб Личные-->\n                        </template>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div> \n    `\n};","import { useLoyaltySalesReportStore } from '../../../stores/loyaltySalesReportStore';\nimport { LoyaltyReport } from \"../../loyaltyReport/src/component\";\n\nexport const SalesReportPage = {\n    components: { LoyaltyReport },\n\n    data() {\n        return {\n            consultantsSortAsc: true,\n            consultantsSort: 'id',\n            buyersSortAsc: true,\n            buyersSort: 'id',\n            consultantsLoyaltyLevelFilter: [],\n            buyersLoyaltyLevelFilter: [],\n            mutableConsultants: [],\n            mutableBuyers: [],\n        };\n    },\n\n    props: {\n        consultantLoyaltyLevels: {\n            type: Object,\n            required: true,\n        },\n        buyerLoyaltyLevels: {\n            type: Object,\n            required: true,\n        },\n        consultantAccountingPeriods: {\n            type: Array,\n            required: true,\n        },\n        buyerAccountingPeriods: {\n            type: Array,\n            required: true,\n        },\n        currentUser: {\n            type: Object,\n            required: true,\n        },\n        currentAccountingPeriod: {\n            type: Object,\n            required: true,\n        },\n        team: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    setup() {\n        return { loyaltySalesReportStore: useLoyaltySalesReportStore() };\n    },\n\n    computed: {\n        consultantsMembers() {\n            return this.mutableConsultants.filter((consultant) => {\n                return this.consultantsLoyaltyLevelFilter.length\n                    ? this.consultantsLoyaltyLevelFilter.includes(consultant.user_info.loyalty_level)\n                    : true;\n            }).sort((a, b) => {\n                let result, aPrepared, bPrepared, aDate, bDate;\n\n                switch (this.consultantsSort) {\n                    case 'id':\n                        result = this.consultantsSortAsc ? parseInt(a.user_info.id) > parseInt(b.user_info.id) : parseInt(a.user_info.id) < parseInt(b.user_info.id);\n                        break;\n                    case 'loyalty_level':\n                        result = this.consultantsSortAsc ? a.user_info.loyalty_level > b.user_info.loyalty_level : a.user_info.loyalty_level < b.user_info.loyalty_level;\n                        break;\n                    case 'date_register':\n                        aPrepared = a.user_info.date_register.split('.');\n                        bPrepared = b.user_info.date_register.split('.');\n                        aDate = new Date(`${aPrepared[2]}-${aPrepared[1]}-${aPrepared[0]}`);\n                        bDate = new Date(`${bPrepared[2]}-${bPrepared[1]}-${bPrepared[0]}`);\n                        result = this.consultantsSortAsc ? aDate.getTime() > bDate.getTime() : aDate.getTime() < bDate.getTime();\n                        break;\n                    case 'paid_orders':\n                        result = this.consultantsSortAsc ? parseInt(a.orders_report.self.paid_orders_count) > parseInt(b.orders_report.self.paid_orders_count) : parseInt(a.orders_report.self.paid_orders_count) < parseInt(b.orders_report.self.paid_orders_count);\n                        break;\n                    case 'refunded_orders':\n                        result = this.consultantsSortAsc ? parseInt(a.orders_report.self.refunded_orders_count) > parseInt(b.orders_report.self.refunded_orders_count) : parseInt(a.orders_report.self.refunded_orders_count) < parseInt(b.orders_report.self.refunded_orders_count);\n                        break;\n                    case 'total_sum':\n                        result = this.consultantsSortAsc ? parseInt(a.orders_report.self.total_sum) > parseInt(b.orders_report.self.total_sum) : parseInt(a.orders_report.self.total_sum) < parseInt(b.orders_report.self.total_sum);\n                        break;\n                    case 'current_bonuses_count':\n                        result = this.consultantsSortAsc ? parseInt(a.bonuses_income.total) > parseInt(b.bonuses_income.total) : parseInt(a.bonuses_income.total) < parseInt(b.bonuses_income.total);\n                        break;\n                    case 'current_period_sum':\n                        result = this.consultantsSortAsc ? parseInt(a.orders_report.self.current_period_sum) > parseInt(b.orders_report.self.current_period_sum) : parseInt(a.orders_report.self.current_period_sum) < parseInt(b.orders_report.self.current_period_sum);\n                        break;\n                    case 'last_order_date':\n                        aPrepared = a.orders_report.self.last_order_date.split('.');\n                        bPrepared = b.orders_report.self.last_order_date.split('.');\n                        aDate = new Date(`${aPrepared[2]}-${aPrepared[1]}-${aPrepared[0]}`);\n                        bDate = new Date(`${bPrepared[2]}-${bPrepared[1]}-${bPrepared[0]}`);\n                        if (this.consultantsSortAsc) {\n                            if (isNaN(aDate.getTime())) {\n                                result = false;\n                            } else if (isNaN(bDate.getTime())) {\n                                result = true;\n                            }\n                            result = aDate.getTime() > bDate.getTime();\n                        }\n                        if (isNaN(aDate.getTime())) {\n                            result = true;\n                        } else if (isNaN(bDate.getTime())) {\n                            result = false;\n                        }\n                        result = aDate.getTime() < bDate.getTime();\n                        break;\n                    case 'bonuses_count':\n                        result = this.consultantsSortAsc ? parseInt(a.bonuses_income.all_total) > parseInt(b.bonuses_income.all_total) : parseInt(a.bonuses_income.all_total) < parseInt(b.bonuses_income.all_total);\n                        break;\n                }\n                return result ? 1 : -1;\n            });\n        },\n        buyersMembers() {\n            return this.mutableBuyers.filter((buyer) => {\n                return this.buyersLoyaltyLevelFilter.length\n                    ? this.buyersLoyaltyLevelFilter.includes(buyer.user_info.loyalty_level)\n                    : true;\n            }).sort((a, b) => {\n                let result, aPrepared, bPrepared, aDate, bDate;\n\n                switch (this.buyersSort) {\n                    case 'id':\n                        result = this.buyersSortAsc ? parseInt(a.user_info.id) > parseInt(b.user_info.id) : parseInt(a.user_info.id) < parseInt(b.user_info.id);\n                        break;\n                    case 'date_register':\n                        aPrepared = a.user_info.date_register.split('.');\n                        bPrepared = b.user_info.date_register.split('.');\n                        aDate = new Date(`${aPrepared[2]}-${aPrepared[1]}-${aPrepared[0]}`);\n                        bDate = new Date(`${bPrepared[2]}-${bPrepared[1]}-${bPrepared[0]}`);\n                        result = this.buyersSortAsc ? aDate.getTime() > bDate.getTime() : aDate.getTime() < bDate.getTime();\n                        break;\n                    case 'paid_orders':\n                        result = this.buyersSortAsc ? parseInt(a.orders_report.self.paid_orders_count) > parseInt(b.orders_report.self.paid_orders_count) : parseInt(a.orders_report.self.paid_orders_count) < parseInt(b.orders_report.self.paid_orders_count);\n                        break;\n                    case 'refunded_orders':\n                        result = this.buyersSortAsc ? parseInt(a.orders_report.self.refunded_orders_count) > parseInt(b.orders_report.self.refunded_orders_count) : parseInt(a.orders_report.self.refunded_orders_count) < parseInt(b.orders_report.self.refunded_orders_count);\n                        break;\n                    case 'total_sum':\n                        result = this.buyersSortAsc ? parseInt(a.orders_report.self.total_sum) > parseInt(b.orders_report.self.total_sum) : parseInt(a.orders_report.self.total_sum) < parseInt(b.orders_report.self.total_sum);\n                        break;\n                    case 'current_period_sum':\n                        result = this.buyersSortAsc ? parseInt(a.orders_report.self.current_period_sum) > parseInt(b.orders_report.self.current_period_sum) : parseInt(a.orders_report.self.current_period_sum) < parseInt(b.orders_report.self.current_period_sum);\n                        break;\n                    case 'last_order_date':\n                        aPrepared = a.orders_report.self.last_order_date.split('.');\n                        bPrepared = b.orders_report.self.last_order_date.split('.');\n                        aDate = new Date(`${aPrepared[2]}-${aPrepared[1]}-${aPrepared[0]}`);\n                        bDate = new Date(`${bPrepared[2]}-${bPrepared[1]}-${bPrepared[0]}`);\n                        if (this.buyersSortAsc) {\n                            if (isNaN(aDate.getTime())) {\n                                result = false;\n                            } else if (isNaN(bDate.getTime())) {\n                                result = true;\n                            }\n                            result = aDate.getTime() > bDate.getTime();\n                        }\n                        if (isNaN(aDate.getTime())) {\n                            result = true;\n                        } else if (isNaN(bDate.getTime())) {\n                            result = false;\n                        }\n                        result = aDate.getTime() < bDate.getTime();\n                        break;\n                }\n                return result ? 1 : -1;\n            });\n        },\n    },\n\n    created() {\n        this.mutableConsultants = this.team.consultants;\n        this.mutableBuyers = this.team.buyers;\n    },\n\n    mounted() {\n        $('select[name=consultant_loyalty_levels]').on('change', () => {\n            this.consultantsLoyaltyLevelFilter = $('select[name=consultant_loyalty_levels]').val();\n        });\n        $('select[name=buyer_loyalty_levels]').on('change', () => {\n            this.buyersLoyaltyLevelFilter = $('select[name=buyer_loyalty_levels]').val();\n        });\n\n        $('select[name=consultants_sort]').on('change', () => {\n            this.consultantsSort = $('select[name=consultants_sort]').val();\n        });\n        $('select[name=buyers_sort]').on('change', () => {\n            this.buyersSort = $('select[name=buyers_sort]').val();\n        });\n\n        $('select[name=consultant_accounting_periods]').on('change', () => this.changeConsultantAccountingPeriod());\n        $('select[name=buyer_accounting_periods]').on('change', () => this.changeBuyerAccountingPeriod());\n    },\n\n    methods: {\n        async changeConsultantAccountingPeriod() {\n            const period = $('select[name=consultant_accounting_periods]').val().split('-');\n            const response = await this.loyaltySalesReportStore.getTeamMembersDataByPeriod(\n                this.mutableConsultants.map((user) => user.user_info.id),\n                period[0],\n                period[1],\n            );\n            this.mutableConsultants = response.data;\n            for (const i in response.data) {\n                this.$refs[`consultant-${response.data[i].user_info.id}`][0].changeAccountingPeriod(response.data[i]);\n            }\n        },\n        async changeBuyerAccountingPeriod() {\n            const period = $('select[name=buyer_accounting_periods]').val().split('-');\n            const response = await this.loyaltySalesReportStore.getTeamMembersDataByPeriod(\n                this.mutableBuyers.map((user) => user.user_info.id),\n                period[0],\n                period[1],\n            );\n            this.mutableBuyers = response.data;\n            for (const i in response.data) {\n                this.$refs[`buyer-${response.data[i].user_info.id}`][0].changeAccountingPeriod(response.data[i]);\n            }\n        },\n    },\n\n    template: `\n        <div class=\"private__col private__col--full\">\n            <div class=\"accounting\">\n                <section class=\"accounting__section section\">\n                    <div class=\"section__box box\">\n                        <LoyaltyReport\n                            :user=\"currentUser.user_info\"\n                            :orders-report=\"currentUser.orders_report\"\n                            :current-accounting-period=\"currentAccountingPeriod\"\n                            :accounting-periods=\"currentUser.accounting_periods\"\n                            :loyalty-status=\"currentUser.loyalty_status\"\n                            :bonuses-income=\"currentUser.bonuses_income\"\n                        />\n                    </div>\n                </section>\n                \n                <section v-if=\"team.consultants.length || team.buyers.length\" class=\"accounting__section section\">\n                    <div class=\"section__box box\">\n                        <div class=\"section__header\">\n                            <h4 class=\"section__title\">\n                                Участники группы\n                            </h4>\n                        </div>\n\n                        <div class=\"tabs tabs--gray tabs--covered tabs--small tabs--circle tabs--full-mob\" data-tabs>\n                            <nav class=\"accounting__tabs-items tabs__items\">\n                                <ul class=\"tabs__list\">\n                                    <li class=\"tabs__item tabs__item--active\" data-tab=\"block1\">\n                                        Консультанты\n                                        <span>({{ mutableConsultants.length }})</span>\n                                    </li>\n\n                                    <li class=\"tabs__item\" data-tab=\"block2\">\n                                        Покупатели\n                                        <span>({{ mutableBuyers.length }})</span>\n                                    </li>\n                                </ul>\n                            </nav>\n\n                            <div class=\"tabs__body\">\n                                <!--Консультанты-->\n                                <div class=\"tabs__block tabs__block--active\" data-tab-section=\"block1\">\n                                    <div class=\"accounting__block\">\n                                        <div class=\"accounting__filter content__filter filter filter--content\">\n                                            <form class=\"form form--wraped form--separated form--wraped-small\">\n                                                <div class=\"form__row form__row--merged\">\n                                                    <div class=\"form__col form__col--definite\">\n                                                        <div class=\"form__field\">\n                                                            <div class=\"form__field-block form__field-block--input\">\n                                                                <div class=\"form__control\">\n                                                                    <div class=\"filter__select select select--mitigate select--small select--squared select--multiple\" data-select>\n                                                                        <select class=\"select__control\" name=\"consultant_loyalty_levels\" data-select-control data-placeholder=\"Выбрать уровень\" multiple>\n                                                                            <option><!-- пустой option для placeholder --></option>\n                                                                            <option\n                                                                                v-for=\"(level, levelName) in consultantLoyaltyLevels\"\n                                                                                :key=\"levelName\"\n                                                                                :value=\"levelName\"\n                                                                            >{{ levelName }}</option>\n                                                                        </select>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"form__col form__col--definite\">\n                                                        <div class=\"form__field\">\n                                                            <div class=\"form__field-block form__field-block--input\">\n                                                                <div class=\"form__control\">\n                                                                    <div class=\"filter__select select select--mitigate select--small select--squared\" data-select>\n                                                                        <select class=\"select__control\" name=\"consultant_accounting_periods\" data-select-control data-placeholder=\"Выбрать период\">\n                                                                            <option><!-- пустой option для placeholder --></option>\n                                                                            <option\n                                                                                v-for=\"accountingPeriod in consultantAccountingPeriods\"\n                                                                                :key=\"accountingPeriod.name\"\n                                                                                :value=\"accountingPeriod.from + '-' + accountingPeriod.to\"\n                                                                            >{{ accountingPeriod.name }}</option>\n                                                                        </select>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"form__col form__col--right form__col--definite\">\n                                                        <div class=\"form__field\">\n                                                            <div class=\"form__field-block form__field-block--input\">\n                                                                <div class=\"form__control\">\n                                                                    <div class=\"filter__sort select select--small select--sorting select--borderless\" data-select>\n                                                                        <select class=\"select__control\" name=\"consultants_sort\" data-select-control data-placeholder=\"Сортировать по\">\n                                                                            <option><!-- пустой option для placeholder --></option>\n                                                                            <option value=\"loyalty_level\">По уровню консультанта</option>\n                                                                            <option value=\"date_register\">По дате регистрации</option>\n                                                                            <option value=\"paid_orders\">По количеству личных заказов со статусом \"Оплачен\"</option>\n                                                                            <option value=\"refunded_orders\">По количеству личных заказов со статусом \"Возврат\"</option>\n                                                                            <option value=\"total_sum\">По сумме всех личных заказов</option>\n                                                                            <option value=\"current_bonuses_count\">По сумме личных баллов за текущий отчетный период</option>\n                                                                            <option value=\"current_period_sum\">По сумме личных заказов за текущий отчетный период</option>\n                                                                            <option value=\"last_order_date\">По дате последнего личного заказа</option>\n                                                                            <option value=\"bonuses_count\">По количеству всех заработанных баллов</option>\n                                                                        </select>\n                            \n                                                                        <button type=\"button\" class=\"input__button input__button--select button button--iconed button--covered button--square button--dark\" @click=\"consultantsSortAsc = !consultantsSortAsc\">\n                                                                            <span class=\"button__icon button__icon--medium\">\n                                                                                <svg class=\"icon icon--sort\">\n                                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-sort\"></use>\n                                                                                </svg>\n                                                                            </span>\n                                                                        </button>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n\n                                        <div class=\"accordeon accordeon--separated\">\n                                            <div class=\"participant\">\n                                                <div class=\"participant__head\">\n                                                    <div class=\"participant__head-item participant__head-item--name\">ФИО</div>\n                                                    <div class=\"participant__head-item participant__head-item--id\">ID</div>\n                                                    <div class=\"participant__head-item participant__head-item--level\">Уровень</div>\n                                                    <div class=\"participant__head-item participant__head-item--date\">На сайте с</div>\n                                                    <div class=\"participant__head-item participant__head-item--tel\">Телефон</div>\n                                                    <div class=\"participant__head-item participant__head-item--email\">Email</div>\n                                                </div>\n\n                                                <LoyaltyReport\n                                                    v-for=\"member in consultantsMembers\"\n                                                    :key=\"member.user_info.id\"\n                                                    :ref=\"'consultant-' + member.user_info.id\"\n                                                    :user=\"member.user_info\"\n                                                    :orders-report=\"member.orders_report\"\n                                                    :current-accounting-period=\"currentAccountingPeriod\"\n                                                    :accounting-periods=\"member.accounting_periods\"\n                                                    :loyalty-status=\"member.loyalty_status\"\n                                                    :bonuses-income=\"member.bonuses_income\"\n                                                    :accordion=\"true\"\n                                                    :title=\"'Заработок Консультанта'\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <!--/Консультанты-->\n\n                                <!--Покупатели-->\n                                <div class=\"tabs__block\" data-tab-section=\"block2\">\n                                    <div class=\"accounting__block\">\n                                        <div class=\"accounting__filter content__filter filter filter--content\">\n                                            <form class=\"form form--wraped form--separated form--wraped-small\">\n                                                <div class=\"form__row form__row--merged\">\n\n                                                    <div class=\"form__col form__col--definite\">\n                                                        <div class=\"form__field\">\n                                                            <div class=\"form__field-block form__field-block--input\">\n                                                                <div class=\"form__control\">\n                                                                    <div class=\"filter__select select select--mitigate select--small select--squared\" data-select>\n                                                                        <select class=\"select__control\" name=\"buyer_accounting_periods\" data-select-control data-placeholder=\"Выбрать период\">\n                                                                            <option><!-- пустой option для placeholder --></option>\n                                                                            <option\n                                                                                v-for=\"accountingPeriod in buyerAccountingPeriods\"\n                                                                                :key=\"accountingPeriod.name\"   \n                                                                                :value=\"accountingPeriod.from + '-' + accountingPeriod.to\"\n                                                                            >{{ accountingPeriod.name }}</option>\n                                                                        </select>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"form__col form__col--right form__col--definite\">\n                                                        <div class=\"form__field\">\n                                                            <div class=\"form__field-block form__field-block--input\">\n                                                                <div class=\"form__control\">\n                                                                    <div class=\"filter__sort select select--small select--sorting select--borderless\" data-select>\n                                                                        <select class=\"select__control\" name=\"buyers_sort\" id=\"buyers_sort\" data-select-control data-placeholder=\"Сортировать по\">\n                                                                            <option><!-- пустой option для placeholder --></option>\n                                                                            <option value=\"date_register\">По дате регистрации</option>\n                                                                            <option value=\"paid_orders\">По количеству личных заказов со статусом \"Оплачен\"</option>\n                                                                            <option value=\"refunded_orders\">По количеству личных заказов со статусом \"Возврат\"</option>\n                                                                            <option value=\"total_sum\">По сумме всех личных заказов</option>\n                                                                            <option value=\"current_period_sum\">По сумме личных заказов за текущий отчетный период</option>\n                                                                            <option value=\"last_order_date\">По дате последнего личного заказа</option>\n                                                                        </select>\n                            \n                                                                        <button type=\"button\" class=\"input__button input__button--select button button--iconed button--covered button--square button--dark\" @click=\"buyersSortAsc = !buyersSortAsc\">\n                                                                            <span class=\"button__icon button__icon--medium\">\n                                                                                <svg class=\"icon icon--sort\">\n                                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-sort\"></use>\n                                                                                </svg>\n                                                                            </span>\n                                                                        </button>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n\n                                        <div class=\"accordeon accordeon--separated\">\n                                            <div class=\"participant\">\n                                                <div class=\"participant__head\">\n                                                    <div class=\"participant__head-item participant__head-item--name\">ФИО</div>\n                                                    <div class=\"participant__head-item participant__head-item--id\">ID</div>\n                                                    <div class=\"participant__head-item participant__head-item--pet\">Питомец</div>\n                                                    <div class=\"participant__head-item participant__head-item--date\">На сайте с</div>\n                                                    <div class=\"participant__head-item participant__head-item--tel\">Телефон</div>\n                                                    <div class=\"participant__head-item participant__head-item--email\">Email</div>\n                                                </div>\n\n                                                <LoyaltyReport\n                                                    v-for=\"member in buyersMembers\"\n                                                    :key=\"member.user_info.id\"\n                                                    :ref=\"'buyer-' + member.user_info.id\"\n                                                    :user=\"member.user_info\"\n                                                    :orders-report=\"member.orders_report\"\n                                                    :current-accounting-period=\"currentAccountingPeriod\"\n                                                    :accounting-periods=\"member.accounting_periods\"\n                                                    :loyalty-status=\"member.loyalty_status\"\n                                                    :accordion=\"true\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <!--/Покупатели-->\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        </div>\n    `\n};","import { defineStore } from 'ui.vue3.pinia';\n\nexport const usePetStore = defineStore('pet', {\n    actions: {\n        async deletePet(petId) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'deletePet', {\n                mode: 'class',\n                data: { petId },\n            });\n        },\n        async addPet(pet) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'addPet', {\n                mode: 'class',\n                data: { pet },\n            });\n        },\n        async changePet(pet) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'changePet', {\n                mode: 'class',\n                data: { pet },\n            });\n        },\n    },\n})","import select2 from 'select2';\nimport 'jquery.nicescroll';\n\nconst ELEMENTS_SELECTOR = {\n    selectBox: '[data-select]',\n    selectControl: '[data-select-control]',\n    select2Container: '.select2-container',\n}\n\nexport default function () {\n    /**\n     * Инициализирует селекты с плагином select2\n     * @param jqObj объект JQuery (контейнер, в котором нужно проинициализировать селекты). Если не задан - инициализирует все селекты в BODY\n     */\n    function initSelect(jqObj = undefined) {\n        const baseOptions = {\n            templateResult: formatState,\n            templateSelection: formatState,\n        };\n\n        function formatState (state) {\n            let before = $(state.element).data('option-before') ? $(state.element).data('option-before') : '';\n            let after = $(state.element).data('option-after') ? $(state.element).data('option-after') : '';\n\n            let classItem = (before || after) ? 'select__item--inlined' : '';\n\n            let result = $(`\n                <span class=\"select__item ${classItem}\">\n                    ${before}\n                    ${state.text}\n                    ${after}\n                </span>\n            `);\n\n            return result;\n        };\n\n        function searchDisabled (element) {\n            let searchfield = element.parent().find('.select2-search__field');\n            searchfield.prop('disabled', true);\n        }\n\n        const scrollOptions = {\n            autohidemode: \"leave\",\n            railpadding: { top: 0, right: 0, left: 6, bottom: 0 },\n        }\n\n        var selectsContainer = $(document.body);\n\n        if (typeof jqObj != 'undefined') {\n            selectsContainer = jqObj;\n        }\n\n        selectsContainer.find(ELEMENTS_SELECTOR.selectControl).each(function(index, select) {\n            const $selectBox = $(select).closest(ELEMENTS_SELECTOR.selectBox);\n\n            const petsBreed = $selectBox.data('pets-breed');\n            if (petsBreed != undefined) {\n                baseOptions.language = {\n                    \"noResults\": ()=>{\n                        return \"Выберите тип питомца\";\n                    }\n                };\n            }\n\n            const placeholder = $(select).attr('data-placeholder');\n\n            const currentOptions = {\n                ...baseOptions,\n                placeholder,\n                dropdownParent: $selectBox,\n            };\n\n            $(select)\n                .select2(currentOptions)\n                .on('select2:open', function(e) {\n                    const $select = $(this);\n                    const $selectContainer = $select.siblings('.select2-container');\n                    const $selectList = $selectContainer.find('.select2-results__options');\n\n                    $selectList.niceScroll(scrollOptions);\n                })\n                .on('select2:close', function() {\n                    const select = $(this);\n                    const multiple = select.attr('multiple');\n\n                    if (typeof multiple !== 'undefined' && multiple !== false) {\n                        select.closest('[data-select]').find('.select2-selection__rendered').html(()=>{\n                            let counter = select.select2('data').length;\n                            if (counter > 0) {\n                                return `<li class=\"select2-selection__rendered-item\">Выбрано: ${counter}<li>`;\n                            }\n                        });\n                    }\n                })\n                .on('select2:opening select2:closing', function() {\n                    searchDisabled($(this));\n                });\n        });\n    }\n\n    initSelect();\n    window.initSelect = initSelect;\n}","export default {\n    methods: {\n        uppercaseFirst(string) {\n            return string[0].toUpperCase() + string.substring(1);\n        },\n    },\n};\n","import select from \"../../../../../../../../../assets/js/modules/select\";\nimport StringFormatMixin from \"../../../../mixins/StringFormatMixin\";\n\nlet id = 0;\n\nexport const Select = {\n    mixins: [StringFormatMixin],\n\n    data() {\n        return {\n            componentId: 'select-' + ++id,\n        };\n    },\n\n    props: {\n        name: {\n            type: String,\n            required: true,\n        },\n        placeholder: {\n            type: String,\n            default: null,\n        },\n        options: {\n            type: Object,\n            required: true,\n        },\n        selected: {\n            type: Number,\n            default: null,\n        },\n        iconed: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    mounted() {\n        select();\n\n        $(`#${this.componentId}`).on('change', () => {\n            this.$emit('custom-change', $(`#${this.componentId}`).val());\n        });\n    },\n\n    methods: {\n        getIconPath(icon) {\n            return `<svg class=\"select__item-icon icon icon--${icon}\"><use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-${icon}\"></use></svg>`;\n        },\n    },\n\n    template: `\n        <div class=\"select select--mitigate\" :class=\"{ 'select--iconed': iconed }\" data-select>\n            <select class=\"select__control\" :name=\"name\" :id=\"componentId\" data-select-control :data-placeholder=\"placeholder ?? 'Выбрать'\">\n                <option><!-- пустой option для placeholder --></option>\n                <option\n                    v-for=\"(option, optionId) in options\"\n                    :key=\"optionId\"\n                    :value=\"optionId\"\n                    :data-option-before=\"iconed ? getIconPath(option.icon) : false\"\n                    :selected=\"optionId === selected\"\n                >\n                    {{ uppercaseFirst(option.name) }}\n                </option>\n            </select>\n        </div>\n    `,\n};","import inputMaskInit from \"../../../../../../../../../assets/js/modules/inputmask\";\n\nlet id = 0;\n\nexport const DateInput = {\n    data() {\n        return {\n            componentId: 'date-input-' + ++id,\n            currentValue: null,\n        };\n    },\n\n    props: {\n        name: {\n            type: String,\n            required: true,\n        },\n        value: {\n            type: String,\n            default: null,\n        },\n    },\n\n    watch: {\n        currentValue(newValue) {\n            this.$emit('custom-change', newValue);\n        },\n    },\n\n    created() {\n        this.currentValue = this.value;\n    },\n\n    mounted() {\n        // inputMaskInit($(`[data-date-input-id=${this.componentId}]`), 'dateMask');\n    },\n\n    template: `\n        <div class=\"input input--iconed\" :data-date-input-id=\"componentId\">\n            <input\n                inputmode=\"numeric\"\n                class=\"input__control\"\n                :name=\"name\"\n                placeholder=\"ДД.ММ.ГГГГ\"\n                data-mask-date\n                :id=\"componentId\"\n                v-model=\"currentValue\"\n                data-pets-date-input\n                data-pets-change\n                autocomplete=\"off\"\n            >\n            <span class=\"input__control-error--mask\"></span>\n            <span class=\"input__icon\">\n                <svg class=\"icon icon--calendar\">\n                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-calendar\"></use>\n                </svg>\n            </span>\n        </div>\n    `,\n};","import { usePetStore } from '../../../stores/petStore';\nimport { Select } from \"../../gui/select/src/component\";\nimport { DateInput } from \"../../gui/dateInput/src/component\";\nimport tooltip from '../../../../../../../../assets/js/modules/tooltip.js'\n\nexport const Pets = {\n    components: { Select, DateInput },\n\n    data() {\n        return {\n            originalPets: {},\n            mutablePets: [],\n        };\n    },\n\n    props: {\n        pets: {\n            type: Object,\n            default: {},\n        },\n        genders: {\n            type: Object,\n            required: true,\n        },\n        breeds: {\n            type: Object,\n            required: true,\n        },\n        kinds: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    setup() {\n        return { petStore: usePetStore() };\n    },\n\n    created() {\n        this.originalPets = JSON.parse(JSON.stringify(this.pets));\n        this.mutablePets = JSON.parse(JSON.stringify(Object.values(this.pets)));\n    },\n\n    methods: {\n        addPet() {\n            this.mutablePets.push({ id: `new-${Date.now()}`, editing: true });\n        },\n        deletePet(pet) {\n            if (pet.id.indexOf('new') === -1) {\n                this.petStore.deletePet(pet.id);\n            }\n\n            this.mutablePets.splice(this.mutablePets.indexOf(pet), 1);\n        },\n        checkPetAvailable(pet) {\n            const petReplaceValue = pet.birthdate?.replace(/[^0-9]/g, '');\n            const petBirthdateLenght = petReplaceValue?.length\n           \n            if (petBirthdateLenght < 8) {\n                return\n            }\n\n            return pet.name && pet.kind && pet.breed && pet.birthdate && pet.gender;\n        },\n        cancelEditing(pet, petKey) {\n            if (pet.id.indexOf('new') !== -1) {\n                this.deletePet(pet);\n            } else {\n                this.mutablePets[petKey] = JSON.parse(JSON.stringify(this.originalPets[pet.id]));\n            }\n        },\n        async savePet(pet) {\n            if (pet.id.indexOf('new') === -1) {\n                await this.petStore.changePet(pet);\n            } else {\n                const response = await this.petStore.addPet(pet);\n                pet.id = `${response.data.id}`;\n            }\n\n            pet.editing = false;\n            this.originalPets[pet.id] = JSON.parse(JSON.stringify(pet));\n            \n            setTimeout(() => {\n                tippy('button[data-tippy-content]', {\n                    theme: 'light',\n                    arrow: false,\n                    appendTo: 'parent',\n                });\n            }, 500); \n        },\n    },\n\n    template: `\n        <div class=\"profile__block accordeon__item\" data-accordeon>\n            <div class=\"section__box box box--gray box--rounded\">\n                <div class=\"profile__accordeon-header accordeon__header section__header\">\n                    <h4 class=\"section__title section__title--closer\">Данные о питомцах</h4>\n\n                    <div class=\"profile__actions\">\n                        <button type=\"button\" class=\"profile__actions-button profile__actions-button--toggle accordeon__toggle button button--circular button--mini button--covered button--red-white\" data-accordeon-toggle>\n                            <span class=\"accordeon__toggle-icon button__icon\">\n                                <svg class=\"icon icon--arrow-down\">\n                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-down\"></use>\n                                </svg>\n                            </span>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"profile__accordeon-body accordeon__body accordeon__body--closer\" data-accordeon-content>\n                    <div class=\"pet-cards\">\n                        <ul class=\"pet-cards__list\" data-pets-list>\n                            <li v-for=\"(pet, petKey) in mutablePets\" :key=\"pet.id\" class=\"pet-cards__item\">\n                                <article class=\"pet-card\" :class=\"{ 'pet-card--editing': pet.editing }\" data-pets-card>\n                                    <div class=\"pet-card__main box box--circle\" data-pets-main>\n                                        <div class=\"pet-card__content\">\n                                            <div class=\"pet-card__avatar\" data-pets-type>\n                                                <svg class=\"icon\" :class=\"'icon--' + pet.kind?.code.toLowerCase().substring(5)\">\n                                                    <use :xlink:href=\"'/local/templates/.default/images/icons/sprite.svg#icon-' + pet.kind?.code.toLowerCase().substring(5)\"></use>\n                                                </svg>\n                                            </div>\n\n                                            <div class=\"pet-card__info\">\n                                                <div class=\"pet-card__name\" data-pets-name>\n                                                    {{ pet.name }}\n                                                </div>\n\n                                                <div class=\"pet-card__breed\" data-pets-breed>\n                                                    {{ pet.breed?.name }}\n                                                </div>\n\n                                                <div class=\"pet-card__info-record\">\n                                                    <div class=\"pet-card__gender\" data-pets-gender>\n                                                        <svg class=\"icon\" :class=\"'icon--' + (pet.gender?.code.indexOf('FEMALE') !== -1 ? 'woman' : 'man')\">\n                                                            <use :xlink:href=\"'/local/templates/.default/images/icons/sprite.svg#icon-' + (pet.gender?.code.indexOf('FEMALE') !== -1 ? 'woman' : 'man')\"></use>\n                                                        </svg>\n                                                    </div>\n\n                                                    <div class=\"pet-card__date\" data-pets-date>\n                                                        {{ pet.birthdate }}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"pet-card__actions\">\n                                            <div class=\"pet-card__modify\">\n                                                <button type=\"button\" class=\"pet-card__actions-button button button--iconed button--simple button--red\" data-tippy-content=\"Редактировать\" @click=\"pet.editing = true\">\n                                                    <span class=\"button__icon\">\n                                                        <svg class=\"icon icon--edit\">\n                                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-edit\"></use>\n                                                        </svg>\n                                                    </span>\n                                                </button>\n                                            </div>\n\n                                            <div class=\"pet-card__delete\">\n                                                <button type=\"button\" class=\"pet-card__actions-button button button--iconed button--simple button--red\" data-tippy-content=\"Удалить\" @click=\"deletePet(pet)\">\n                                                    <span class=\"button__icon\">\n                                                        <svg class=\"icon icon--trash\">\n                                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-trash\"></use>\n                                                        </svg>\n                                                    </span>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"pet-card__edit box box--rounded-sm\" data-pets-edit>\n                                        <form class=\"form\" action=\"\" method=\"post\" data-pets-form>\n                                            <div class=\"pet-card__row form__row\">\n                                                <div class=\"pet-card__col pet-card__col--1-3 pet-card__col--3 form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"UF_KIND\" class=\"form__label\">\n                                                                <span class=\"form__label-text\">Тип питомца</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"form__control\">\n                                                                <Select\n                                                                    :name=\"UF_KIND\"\n                                                                    :options=\"kinds\"\n                                                                    :selected=\"pet.kind?.id\"\n                                                                    :iconed=\"true\"\n                                                                    @custom-change=\"(value) => { pet.kind = kinds[value]; pet.breed = null }\"\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"pet-card__col pet-card__col--1-3 form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"UF_GENDER\" class=\"form__label\">\n                                                                <span class=\"form__label-text\">Пол</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"form__control\">\n                                                                <Select\n                                                                    :name=\"UF_GENDER\"\n                                                                    :options=\"genders\"\n                                                                    :selected=\"pet.gender?.id\"\n                                                                    @custom-change=\"(value) => { pet.gender = genders[value] }\"\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"pet-card__col pet-card__col--1-3 form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"UF_BIRTHDATE\" class=\"form__label\">\n                                                                <span class=\"form__label-text\">Дата рождения</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                           <DateInput\n                                                               :name=\"UF_BIRTHDATE\"\n                                                               :value=\"pet.birthdate\"\n                                                               @custom-change=\"(value) => { pet.birthdate = value }\"\n                                                           />\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"pet-card__col pet-card__col--1-2 pet-card__col--1 form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"UF_BREED\" class=\"form__label\">\n                                                                <span class=\"form__label-text\">Порода</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"form__control\">\n                                                                <Select\n                                                                    :name=\"UF_BREED\"\n                                                                    :options=\"breeds[pet.kind?.code] ?? {}\"\n                                                                    :selected=\"pet.breed?.id\"\n                                                                    @custom-change=\"(value) => { pet.breed = breeds[pet.kind.code][value] }\"\n                                                                    data-pets-breed\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"pet-card__col pet-card__col--1-2 pet-card__col--2 form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"UF_NAME\" class=\"form__label\">\n                                                                <span class=\"form__label-text\">Кличка</span>\n                                                            </label>\n                                                        </div>\n                                                \n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"input\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    class=\"input__control\"\n                                                                    name=\"UF_NAME\"\n                                                                    id=\"text19\"\n                                                                    placeholder=\"Выбрать\"\n                                                                    data-pets-name-input\n                                                                    v-model=\"pet.name\"\n                                                                >\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"pet-card__buttons\">\n                                                <button type=\"button\" class=\"pet-card__button pet-card__button-save button button--rounded button--covered button--green button--full\" :class=\"{ 'button--disabled': !checkPetAvailable(pet) }\" :disabled=\"!checkPetAvailable(pet)\" @click=\"savePet(pet)\">\n                                                    Сохранить изменения\n                                                </button>\n                                            \n                                                <button type=\"button\" class=\"pet-card__button button button--rounded button--mixed button--red button--full\" @click=\"() => cancelEditing(pet, petKey)\">\n                                                    Отменить изменения\n                                                </button>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </article>\n                            </li>\n                        </ul>\n\n                        <div class=\"pet-cards__adding\">\n                            <button type=\"button\" class=\"button button--rounded button--covered button--white-green button--full\" :class=\"{ 'button--disabled': mutablePets.length >= 10 }\" :disabled=\"mutablePets.length >= 10\" @click=\"addPet\">\n                                <span class=\"button__icon button__icon--medium\">\n                                    <svg class=\"icon icon--add-circle\">\n                                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-add-circle\"></use>\n                                    </svg>\n                                </span>\n                                <span class=\"button__text\">Добавить питомца</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n};","import { defineStore } from 'ui.vue3.pinia';\n\nexport const usePersonalDataStore = defineStore('personalData', {\n    actions: {\n        async savePersonalData(data) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'savePersonalData', {\n                mode: 'class',\n                data: { userInfo: data },\n            });\n        },\n        async sendCode(value, type) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'sendCode', {\n                mode: 'class',\n                data: { value, type },\n            });\n        },\n        async verifyCode(code, type) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'verifyCode', {\n                mode: 'class',\n                data: { code, type },\n            });\n        },\n    },\n})","import { usePersonalDataStore } from '../../../stores/personalDataStore';\nimport { Select } from \"../../gui/select/src/component\";\n\nexport const PersonalData = {\n    components: { Select },\n\n    data() {\n        return {\n            mutableUserInfo: {},\n            editing: false,\n            phoneError: false,\n            emailError: false,\n            passwordError: false,\n            phoneVerified: false,\n            emailVerified: false,\n            verifyError: false,\n            confirmationType: false,\n        };\n    },\n\n    props: {\n        userInfo: {\n            type: Object,\n            default: {},\n        },\n        genders: {\n            type: Object,\n            required: true,\n        },\n        cities: {\n            type: Object,\n            required: true,\n        },\n        pickupPoints: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    computed: {\n        userCity() {\n            return Object.values(this.cities).find(city => city.name === this.mutableUserInfo.city);\n        },\n        validatePassword() {\n            switch (true) {\n                case this.mutableUserInfo.password !== this.mutableUserInfo.confirm_password:\n                case this.mutableUserInfo.password.length < 8:\n                case this.mutableUserInfo.password.match(/[А-я]+/i):\n                case this.mutableUserInfo.password.toUpperCase() === this.mutableUserInfo.password:\n                case this.mutableUserInfo.password.toLowerCase() === this.mutableUserInfo.password:\n                    return false;\n            }\n            return true;\n        },\n    },\n\n    setup() {\n        return { personalDataStore: usePersonalDataStore() };\n    },\n\n    created() {\n        this.initUserInfo();\n    },\n\n    methods: {\n        initUserInfo() {\n            this.mutableUserInfo = JSON.parse(JSON.stringify(this.userInfo));\n        },\n        cancelEditing() {\n            this.editing = false;\n            this.initUserInfo();\n        },\n        saveUserInfo() {\n            this.passwordError = false;\n            this.phoneError = false;\n            this.emailError = false;\n            let error = false;\n\n            this.mutableUserInfo = {\n                ...this.mutableUserInfo,\n                last_name: this.mutableUserInfo.last_name.replaceAll(/[^a-zA-Zа-яА-ЯёЁ-]+/gu, '').slice(0, 100),\n                first_name: this.mutableUserInfo.first_name.replaceAll(/[^a-zA-Zа-яА-ЯёЁ-]+/gu, '').slice(0, 100),\n                second_name: this.mutableUserInfo.second_name.replaceAll(/[^a-zA-Zа-яА-ЯёЁ-]+/gu, '').slice(0, 100)\n            }\n\n            if (this.userInfo.phone !== this.mutableUserInfo.phone.replaceAll(/\\(|\\)|\\s|-+/g, '') && this.phoneVerified !== this.mutableUserInfo.phone) {\n                error = true;\n                this.phoneError = true;\n            }\n            if (this.userInfo.email !== this.mutableUserInfo.email && this.emailVerified !== this.mutableUserInfo.email) {\n                error = true;\n                this.emailError = true;\n            }\n            if ((this.mutableUserInfo.password || this.mutableUserInfo.confirm_password) && !this.validatePassword) {\n                error = true;\n                this.passwordError = true;\n            }\n\n            if (error) {\n                return;\n            }\n\n            this.mutableUserInfo.photo_id = $('input[type=file][name=photo]').parent().find('input[type=hidden]').val();\n\n            this.personalDataStore.savePersonalData({\n                ...this.mutableUserInfo,\n                phone: this.mutableUserInfo.phone.replaceAll(/\\(|\\)|\\s|-+/g, ''),\n            });\n            this.editing = false;\n\n            $.fancybox.open({ src: '#thanks' });\n        },\n        async sendCode(value, type) {\n            try {\n                const response = await this.personalDataStore.sendCode(value, type);\n\n                if (!response.data || response.data.status === 'error') {\n                    throw new Error(response.data.message);\n                }\n                this.confirmationType = type;\n            } catch (e) {\n                this.phoneError = e.message ? e.message : true;\n                return;\n            }\n\n\n            $.fancybox.open({ src: '#approve-number' });\n        },\n        async verifyCode() {\n            try {\n                const codeInput = $('input[name=verify_code]');\n\n                const response = await this.personalDataStore.verifyCode(codeInput.val(), this.confirmationType);\n\n                if (!response.data || response.data.status === 'error') {\n                    throw new Error();\n                } else {\n                    if (this.confirmationType === 'phone') {\n                        this.phoneError = false;\n                        this.phoneVerified = this.mutableUserInfo.phone;\n                    } else if (this.confirmationType === 'email') {\n                        this.emailError = false;\n                        this.emailVerified = this.mutableUserInfo.email;\n                    }\n                }\n                codeInput.val('');\n            } catch (e) {\n                this.verifyError = true;\n                return;\n            }\n\n            this.verifyError = false;\n            this.confirmationType = false;\n            $.fancybox.close({ src: '#approve-number' });\n        },\n    },\n\n    template: `\n        <div class=\"profile__block accordeon__item\" data-accordeon :class=\"{ 'profile__block--edit': editing }\">\n            <section class=\"section\">\n                <form class=\"form form--wraped form--separated\" action=\"\" method=\"post\" data-profile-form data-validation=\"profile\">\n                    <div class=\"section__box box box--gray box--rounded-sm\">\n                        <div class=\"profile__accordeon-header accordeon__header section__header\">\n                            <h4 class=\"section__title section__title--closer\">Персональные данные</h4>\n                            <div class=\"profile__actions\">\n                                <button v-if=\"!editing\" type=\"button\" class=\"profile__actions-button profile__actions-button--edit button button--simple button--red\" @click=\"editing = true\">\n                                    <span class=\"button__icon\">\n                                        <svg class=\"icon icon--edit\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-edit\"></use>\n                                        </svg>\n                                    </span>\n                                    <span class=\"button__text\">Редактировать</span>\n                                </button>\n\n                                <button type=\"button\" class=\"profile__actions-button profile__actions-button--toggle accordeon__toggle button button--circular button--mini button--covered button--red-white\" data-accordeon-toggle >\n                                    <span class=\"accordeon__toggle-icon button__icon\">\n                                        <svg class=\"icon icon--arrow-down\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-down\"></use>\n                                        </svg>\n                                    </span>\n                                </button>\n                            </div>\n                        </div>\n\n                        <div class=\"profile__accordeon-body accordeon__body accordeon__body--closer\" data-accordeon-content>\n                            <div class=\"profile__actions profile__actions--mobile\">\n                                <button v-if=\"!editing\" type=\"button\" class=\"profile__actions-button button button--simple button--red\" @click=\"editing = true\">\n                                    <span class=\"button__icon\">\n                                        <svg class=\"icon icon--edit\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-edit\"></use>\n                                        </svg>\n                                    </span>\n                                    <span class=\"button__text\">Редактировать</span>\n                                </button>\n                            </div>\n\n                            <div class=\"section__wrapper\">\n                                <div class=\"profile__avatar\">\n                                    <div class=\"profile__avatar-box\">\n                                        <div class=\"profile__avatar-image\">\n                                            <img v-if=\"mutableUserInfo.photo\" :src=\"mutableUserInfo.photo\" alt=\"Персональное фото\" class=\"profile__avatar-image-pic\">\n                                            <svg v-else class=\"dropzone__message-button-icon icon icon--camera\">\n                                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-camera\"></use>\n                                            </svg>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"profile__dropzone dropzone dropzone--image dropzone--simple\" data-uploader>\n                                        <input type=\"file\" name=\"photo\" multiple class=\"dropzone__control js-required\">\n                                        <div class=\"dropzone__area\">\n                                            <div class=\"dropzone__message dropzone__message--simple dz-message needsclick\">\n                                                <div class=\"dropzone__message-button dz-button link needsclick\" data-uploader-previews>\n                                                    <img v-if=\"mutableUserInfo.photo\" :src=\"mutableUserInfo.photo\" alt=\"Персональное фото\" class=\"profile__avatar-image-pic\">\n                                                    <svg v-else class=\"dropzone__message-button-icon icon icon--camera\">\n                                                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-camera\"></use>\n                                                    </svg>\n                                                </div>\n\n                                                <div class=\"profile__toggle\">\n                                                    <button type=\"button\" class=\"dropzone__button button button--medium button--rounded button--outlined button--green\" data-uploader-area='{\"paramName\": \"photo\", \"url\":\"/_markup/gui.php\", \"images\": true, \"single\": true, \"acceptedFiles\": \".jpg, .jpeg, .png, .heic\" ,\"maxFiles\": \"1\", \"maxFileSize\": \"3\" }'>\n                                                        <span class=\"button__icon\">\n                                                            <svg class=\"icon icon--import\">\n                                                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-import\"></use>\n                                                            </svg>\n                                                        </span>\n                                                        <span class=\"button__text\">Загрузить фото</span>\n                                                    </button>\n                                                </div>\n\n                                                <div class=\"profile__toggle dropzone__message-caption needsclick\">\n                                                    <h6 class=\"dropzone__message-title\">Требования к фото:</h6>\n                                                    <ul class=\"dropzone__message-list\">\n                                                        <li class=\"dropzone__message-item\">формат jpg, jpeg, png, heic</li>\n                                                        <li class=\"dropzone__message-item\">размер 720 Х 1280 px</li>\n                                                        <li class=\"dropzone__message-item\">вес не более 3МБ</li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"profile__info\">\n                                        <span v-if=\"mutableUserInfo.is_consultant\" class=\"profile__level\">\n                                            Уровень {{ mutableUserInfo.loyalty_level }}\n                                        </span>\n                                        <span class=\"profile__id\">ID {{ mutableUserInfo.id }}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"section__box-inner section__box-inner--full\">\n                                    <div class=\"section__box-content section__box-content--collapsed box box--white box--rounded-sm box--inner\" data-identic data-validate-dependent>\n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row form__row--special\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"last_name\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Фамилия</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                name=\"last_name\"\n                                                                id=\"last_name\"\n                                                                placeholder=\"Введите фамилию\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableUserInfo.last_name\"\n                                                                data-replace-input=\"fullName\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"first_name\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Имя</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\" \n                                                                name=\"first_name\"\n                                                                id=\"first_name\"\n                                                                placeholder=\"Введите имя\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableUserInfo.first_name\" \n                                                                data-replace-input=\"fullName\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"second_name\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Отчество</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input \n                                                                type=\"text\" \n                                                                class=\"input__control js-required-dependent\" \n                                                                name=\"second_name\" \n                                                                id=\"second_name\" \n                                                                placeholder=\"Введите отчество\" \n                                                                :readonly=\"!editing\" \n                                                                data-identic-input\n                                                                v-model=\"mutableUserInfo.second_name\"\n                                                                data-replace-input=\"fullName\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <!-- TODO: определиться с реализацией -->\n                                        <div class=\"profile__toggle form__row form__row--centered\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"checkbox\">\n                                                        <input \n                                                            type=\"checkbox\" \n                                                            class=\"checkbox__input\" \n                                                            name=\"without_second_name\" \n                                                            id=\"without_second_name\" \n                                                            data-identic-change \n                                                            data-validate-dependent-change\n                                                            v-model=\"mutableUserInfo.without_second_name\"\n                                                            :checked=\"mutableUserInfo.without_second_name\" \n                                                        >\n    \n                                                        <label for=\"without_second_name\" class=\"checkbox__label\">\n                                                            <span class=\"checkbox__icon\">\n                                                                <svg class=\"checkbox__icon-pic icon icon--check\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-check\"></use>\n                                                                </svg>\n                                                            </span>\n    \n                                                            <span class=\"checkbox__text\">У меня нет отчества</span>\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"gender\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Пол</span>\n                                                        </label>\n                                                    </div>\n    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"form__control\">\n                                                            <div class=\"profile__toggle-select select select--mitigate\" data-select>\n                                                                <Select\n                                                                    name=\"gender\"\n                                                                    :options=\"genders\"\n                                                                    placeholder=\"Выберите пол\"\n                                                                    :selected=\"mutableUserInfo.gender\"\n                                                                    @custom-change=\"(value) => { mutableUserInfo.gender = value }\"\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"birthdate\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Дата рождения</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input input--iconed\">\n                                                            <input \n                                                                inputmode=\"numeric\"\n                                                                class=\"input__control js-required js-date\"\n                                                                name=\"birthdate\"\n                                                                id=\"birthdate\"\n                                                                placeholder=\"ДД.ММ.ГГГГ\"\n                                                                data-mask-date-reg\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableUserInfo.birthdate\"\n                                                                autocomplete=\"off\"\n                                                            >\n                                                            <span class=\"input__control-error--mask\"></span>\n                                                            <span class=\"input__icon\">\n                                                                <svg class=\"icon icon--calendar\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-calendar\"></use>\n                                                                </svg>\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"email\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">E-mail</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input \n                                                                type=\"text\" \n                                                                class=\"input__control js-required js-email\" \n                                                                name=\"email\" \n                                                                id=\"email\" \n                                                                placeholder=\"example@email.com\" \n                                                                data-mail \n                                                                inputmode=\"email\"  \n                                                                :class=\"{ 'input__control--error': emailError }\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableUserInfo.email\" \n                                                            >\n                                                            \n                                                            <span v-if=\"typeof emailError === 'string'\" class=\"input__control-error\">\n                                                                {{ emailError }}\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                    \n                                                    <button\n                                                        v-if=\"editing && mutableUserInfo.email.indexOf('_') === -1 && userInfo.email !== mutableUserInfo.email && emailVerified !== mutableUserInfo.email\"\n                                                        type=\"button\"\n                                                        class=\"form__field-button button button--simple button--red button--underlined button--tiny\"\n                                                        data-src=\"#approve-number\"\n                                                        @click=\"sendCode(mutableUserInfo.email, 'email')\"\n                                                        :style=\"{ color: emailError ? 'red' : 'black' }\"\n                                                    >\n                                                        Подтвердить\n                                                    </button>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"phone\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Телефон</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input \n                                                                type=\"tel\" \n                                                                class=\"input__control js-required\" \n                                                                name=\"phone\" \n                                                                id=\"phone\" \n                                                                placeholder=\"+7 (___) ___-__-__\" \n                                                                data-phone \n                                                                inputmode=\"text\"  \n                                                                :class=\"{ 'input__control--error': phoneError }\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableUserInfo.phone\"\n                                                            >\n                                                            \n                                                            <span v-if=\"typeof phoneError === 'string'\" class=\"input__control-error\">\n                                                                {{ phoneError }}\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                    \n                                                    <button\n                                                        v-if=\"editing && mutableUserInfo.phone.indexOf('_') === -1 && userInfo.phone !== mutableUserInfo.phone.replaceAll(/\\\\(|\\\\)|\\\\s|-+/g, '') && phoneVerified !== mutableUserInfo.phone\"\n                                                        type=\"button\"\n                                                        class=\"form__field-button button button--simple button--red button--underlined button--tiny\"\n                                                        data-src=\"#approve-number\"\n                                                        @click=\"sendCode(mutableUserInfo.phone.replaceAll(/\\\\(|\\\\)|\\\\s|-+/g, ''), 'phone')\"\n                                                        :style=\"{ color: phoneError ? 'red' : 'black' }\"\n                                                    >\n                                                        Подтвердить\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <!-- TODO: определить реализацию -->\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"city\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Населенный пункт</span>\n                                                        </label>\n                                                    </div>\n    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"form__control\">\n                                                            <div class=\"profile__toggle-select select select--mitigate\" data-select>\n                                                                <Select\n                                                                    name=\"city\"\n                                                                    :options=\"cities\"\n                                                                    placeholder=\"Выберите город\"\n                                                                    :selected=\"userCity.id\"\n                                                                    @custom-change=\"(value) => { mutableUserInfo.city = cities[value].name }\"\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"pickup_point_id\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Пункт выдачи заказов</span>\n                                                        </label>\n                                                    </div>\n    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"form__control\">\n                                                            <div class=\"profile__toggle-select select select--mitigate\" data-select>\n                                                                <Select\n                                                                    name=\"pickup_point_id\"\n                                                                    :options=\"pickupPoints[userCity.id] ?? {}\"\n                                                                    placeholder=\"Выберите пункт выдачи заказов\"\n                                                                    :selected=\"mutableUserInfo.pickup_point_id\"\n                                                                    @custom-change=\"(value) => { mutableUserInfo.pickup_point_id = value }\"\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"profile__toggle profile__toggle--row profile__toggle--inline form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"password\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Пароль</span>\n                                                        </label>\n                                                    </div>\n            \n                                                    <div class=\"form__field-block form__field-block--input\" data-password-block>\n                                                        <div class=\"input input--iconed\">\n                                                            <input \n                                                                type=\"password\" \n                                                                class=\"input__control js-required\" \n                                                                name=\"password\" \n                                                                id=\"password\" \n                                                                placeholder=\"Введите пароль\" \n                                                                data-password-input\n                                                                :class=\"{ 'input__control--error': passwordError && !validatePassword }\"\n                                                                v-model=\"mutableUserInfo.password\"\n                                                            >\n                                                            <span class=\"input__icon input__icon-password\" data-password-toggle>\n                                                                <svg class=\"input__icon-password-icon input__icon-password-icon--show icon icon--eye\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-eye\"></use>\n                                                                </svg>\n                                                                <svg class=\"input__icon-password-icon input__icon-password-icon--hidden icon icon--eye-off\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-eye-off\"></use>\n                                                                </svg>\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n            \n            \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"confirm_password\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Подтвердить пароль</span>\n                                                        </label>\n                                                    </div>\n            \n                                                    <div class=\"form__field-block form__field-block--input\" data-password-block>\n                                                        <div class=\"input input--iconed\">\n                                                            <input \n                                                                type=\"password\" \n                                                                class=\"input__control js-required\" \n                                                                name=\"confirm_password\" \n                                                                id=\"confirm_password\" \n                                                                placeholder=\"Введите пароль\" \n                                                                data-password-input\n                                                                :class=\"{ 'input__control--error': passwordError && !validatePassword }\"\n                                                                v-model=\"mutableUserInfo.confirm_password\"\n                                                            >\n                                                            <span class=\"input__icon input__icon-password\" data-password-toggle>\n                                                                <svg class=\"input__icon-password-icon input__icon-password-icon--show icon icon--eye\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-eye\"></use>\n                                                                </svg>\n                                                                <svg class=\"input__icon-password-icon input__icon-password-icon--hidden icon icon--eye-off\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-eye-off\"></use>\n                                                                </svg>\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"profile__toggle profile__requirement requirement requirement--inlined box box--gray box--circle\">\n                                            <div class=\"requirement__col\">\n                                                <p class=\"requirement__text\">Требования к паролю:</p>\n                                            </div>\n            \n                                            <div class=\"requirement__col requirement__col--right\">\n                                                <ul class=\"requirement__list\">\n                                                    <li class=\"requirement__item\">\n                                                        Использование только латинских букв, символов и цифр\n                                                    </li>\n                                                    <li class=\"requirement__item\">\n                                                        Не менее 8 символов\n                                                    </li>\n                                                    <li class=\"requirement__item\">\n                                                        Не менее одной заглавной буквы\n                                                    </li>\n                                                    <li class=\"requirement__item\">\n                                                        Не менее одной строчной буквы\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>    \n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"profile__toggle profile__toggle--inline section__actions\">\n                                <div class=\"section__actions-col\">\n                                    <button type=\"button\" class=\"button button--rounded button--mixed button--red button--full\" @click=\"cancelEditing\">\n                                        <span class=\"button__text\">Отменить изменения</span>\n                                    </button>\n                                </div>\n\n                                <div class=\"section__actions-col\">\n                                    <button type=\"button\" class=\"profile__button-personal button button--rounded button--covered button--green button--full\" @click=\"saveUserInfo\">\n                                        <span class=\"button__text\">Сохранить изменения</span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </section>\n\n            <article id=\"thanks\" class=\"modal modal--wide modal--centered box box--circle box--hanging\" style=\"display: none\">\n                <div class=\"modal__content\">\n                    <section class=\"modal__section modal__section--content\">\n                        <div class=\"notification notification--simple\">\n                            <div class=\"notification__icon\">\n                                <svg class=\"icon icon--cat-serious\">\n                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-serious\"></use>\n                                </svg>\n                            </div>\n\n                            <h4 class=\"notification__title\">Спасибо за обращение</h4>\n                            <p class=\"notification__text\">Мы проверим обновленные данные и уведомим Вас о результате внесения изменений. </p>\n                        </div>\n                    </section>\n                </div>\n            </article>\n            \n            <article id=\"approve-number\" class=\"modal modal--small modal--centered box box--circle box--hanging\" style=\"display: none\">\n                <div class=\"modal__content\">\n                    <header class=\"modal__section modal__section--header\">\n                        <p class=\"heading heading--small\">Подтверждение номера</p>\n                    </header>\n            \n                    <section class=\"modal__section modal__section--content\">\n                        <p class=\"modal__section-text\">\n                            На указанный номер телефона отправлен код подтверждения. Пожалуйста, введите его в окно ниже\n                        </p>\n            \n                        <div class=\"form__row\">\n                            <div class=\"form__col\">\n                                <div class=\"form__field\">\n                                    <div class=\"form__field-block form__field-block--input\">\n                                        <div class=\"input input--tiny input--centered input--tel\">\n                                            <input\n                                                type=\"text\"\n                                                maxlength=\"6\"\n                                                class=\"input__control\"\n                                                name=\"verify_code\"\n                                                id=\"verify_code\"\n                                                :class=\"{ 'input__control--error': verifyError }\"\n                                            >\n                                        \n                                            <span v-if=\"verifyError\" class=\"input__control-error\">Неверный или просроченный код</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n            \n                        <button class=\"button button--rounded button--covered button--red button--full\" style=\"margin-top: 25px;\" @click=\"verifyCode\">\n                            <span class=\"button__text\">Далее</span>\n                        </button>\n                    </section>\n                </div>\n            </article>\n        </div>\n    `,\n};","import {defineStore} from 'ui.vue3.pinia';\n\nexport const useDropzoneStore = defineStore('dropzone', {\n    actions: {\n        async uploadFile(files) {\n            return await BX.ajax.runComponentAction('zolo:dropzone', 'upload', {\n                mode: 'class',\n                data: files,\n            });\n        },\n        async deleteFile(id) {\n            return await BX.ajax.runComponentAction('zolo:dropzone', 'delete', {\n                mode: 'class',\n                data: { id },\n            });\n        },\n    },\n})","import {useDropzoneStore} from \"../../../../stores/dropzoneStore\";\n\nlet id = 0;\n\nexport const Dropzone = {\n    props: {\n        files: {\n            type: Array,\n            default: [],\n        },\n        editing: {\n            type: Boolean,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            componentId: 'dropzone-' + ++id,\n        };\n    },\n\n    setup () {\n        return { store: useDropzoneStore() };\n    },\n\n    methods: {\n        async uploadFile(event) {\n            const data = new FormData();\n            for (let i = 0; i < event.target.files.length; i++) {\n                data.append(`file-${i}`, event.target.files[i]);\n            }\n            const response = await this.store.uploadFile(data);\n            for (const fileInfo of response.data) {\n                this.files.push(fileInfo);\n            }\n            this.$emit('upload', response.data);\n        },\n        deleteFile(file) {\n            this.store.deleteFile(file.id);\n            this.files.splice(this.files.indexOf(file), 1);\n            this.$emit('delete', file.id);\n        },\n    },\n\n    template: `\n      <div v-if=\"!editing && !files.length\" class=\"profile__notification\">\n        <span class=\"profile__notification-icon\">\n            <svg class=\"icon icon--danger\">\n                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-danger\"></use>\n            </svg>\n        </span>\n        <p class=\"profile__notification-text\">Необходимо приложить документы. Войдите в режим редактирования.</p>\n      </div>\n      \n      <div class=\"dropzone\">\n          <input type=\"file\" ref=\"file\" :name=\"componentId\" :id=\"componentId\" multiple class=\"dropzone__control\" @change=\"uploadFile($event)\">\n          <div class=\"dropzone__area\">\n            <div class=\"profile__toggle dropzone__message dz-message needsclick\">\n              <label :for=\"componentId\" class=\"dropzone__button dropzone__button--profile button button--medium button--rounded button--covered button--red\">\n                    <span class=\"button__icon\">\n                        <svg class=\"icon icon--import\">\n                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-import\"></use>\n                        </svg>\n                    </span>\n                <span class=\"button__text\">Загрузить файл</span>\n              </label>\n            </div>\n    \n            <div class=\"dropzone__previews dropzone__previews--profile dz-previews\">\n              <div v-for=\"file in files\" :key=\"file.id\" class=\"file dz-processing dz-image-preview dz-success dz-complete\">\n                <div class=\"file__wrapper\">\n                  <div class=\"file__prewiew\">\n                    <div class=\"file__icon\">\n                      <svg class=\"icon icon--gallery\">\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-gallery\"></use>\n                      </svg>\n                    </div>\n    \n                    <div class=\"file__name\">\n                      <h6 class=\"file__name-heading heading heading--tiny\">{{ file.name }}</h6>\n                    </div>\n                  </div>\n    \n                  <div class=\"file__info\">\n                    <div class=\"file__format\">{{ file.format }}</div>\n    \n                    <div class=\"file__weight\">{{ file.size }}</div>\n    \n                    <div v-if=\"editing\" class=\"file__delete\">\n                      <button type=\"button\" class=\"file__delete-button button button--iconed button--simple button--gray\" @click=\"deleteFile(file)\">\n                        <span class=\"file__delete-button-icon button__icon\">\n                            <svg class=\"icon icon--delete\">\n                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-delete\"></use>\n                            </svg>\n                        </span>\n                      </button>\n                    </div>\n                    <div v-else class=\"file__upload\">\n                      <a class=\"button button--iconed button--simple button--gray\" :href=\"file.src\" download>\n                        <span class=\"button__icon\">\n                            <svg class=\"icon icon--import\">\n                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-import\"></use>\n                            </svg>\n                        </span>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"file__error\"></div>\n              </div>\n            </div>\n          </div>\n      </div>\n    `,\n};","import { defineStore } from 'ui.vue3.pinia';\n\nexport const useLegalEntityStore = defineStore('legalEntity', {\n    actions: {\n        async saveLegalEntityData(data) {\n            return await BX.ajax.runComponentAction('zolo:main.profile', 'saveLegalEntityData', {\n                mode: 'class',\n                data: { data },\n            });\n        },\n    },\n})","import { Dropzone } from \"../../gui/dropzone/src/component\";\nimport { useLegalEntityStore } from '../../../stores/legalEntityStore';\n\nlet id = 0;\n\nexport const LegalEntity = {\n    components: { Dropzone },\n\n    data() {\n        return {\n            componentId: `legal-entity-${++id}`,\n            originalLegalEntity: {},\n            mutableLegalEntity: {},\n            editing: false,\n            error: false,\n        };\n    },\n\n    props: {\n        legalEntity: {\n            type: Object,\n            default: {},\n        },\n        types: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    setup() {\n        return { legalEntityStore: useLegalEntityStore() };\n    },\n\n    created() {\n        this.originalLegalEntity = JSON.parse(JSON.stringify(this.legalEntity));\n        this.initLegalEntity();\n    },\n\n    mounted() {\n        $('select[name=status]').on('change', () => this.changeLegalEntityType());\n    },\n\n    methods: {\n        initLegalEntity() {\n            this.mutableLegalEntity = JSON.parse(JSON.stringify(this.originalLegalEntity));\n        },\n        changeLegalEntityType() {\n            this.mutableLegalEntity.type = this.types[$('select[name=status]').val()];\n        },\n        edit() {\n            this.editing = true;\n            if ($(`#${this.componentId} .accordeon__body`).css('display') === 'none') {\n                $(`#${this.componentId} [data-accordeon-toggle]`).trigger('click');\n            }\n        },\n        cancelEditing() {\n            this.initLegalEntity();\n            this.editing = false;\n        },\n        saveChanges() {\n            this.error = false;\n            for (const document in this.mutableLegalEntity.documents) {\n                if (!document || !document.length) {\n                    this.error = true;\n                    return;\n                }\n            }\n\n            this.legalEntityStore.saveLegalEntityData(this.mutableLegalEntity);\n            this.editing = false;\n\n            this.originalLegalEntity = JSON.parse(JSON.stringify(this.mutableLegalEntity));\n\n            $.fancybox.open({ src: '#thanks' });\n        },\n    },\n\n    template: `\n        <div :id=\"componentId\" class=\"profile__block legal_entity_block accordeon__item\" data-accordeon :class=\"{ 'profile__block--edit': editing }\">\n            <section class=\"section\">\n                <div class=\"form form--wraped form--separated\">\n                    <div class=\"section__box box box--gray box--rounded-sm\">\n                        <div class=\"profile__accordeon-header accordeon__header section__header\">\n                            <h4 class=\"section__title section__title--closer\">Юридические данные</h4>\n\n                            <div class=\"profile__actions\">\n                                <button v-if=\"!editing\" type=\"button\" class=\"profile__actions-button profile__actions-button--edit button button--simple button--red\" @click=\"edit\">\n                                    <span class=\"button__icon\">\n                                        <svg class=\"icon icon--edit\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-edit\"></use>\n                                        </svg>\n                                    </span>\n                                    <span class=\"button__text\">Редактировать</span>\n                                </button>\n\n                                <button type=\"button\" class=\"profile__actions-button accordeon__toggle button button--circular button--mini button--covered button--red-white\" data-accordeon-toggle >\n                                    <span class=\"accordeon__toggle-icon button__icon\">\n                                        <svg class=\"icon icon--arrow-down\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-down\"></use>\n                                        </svg>\n                                    </span>\n                                </button>\n                            </div>\n                        </div>\n\n                        <div class=\"accordeon__body accordeon__body--closer\" data-accordeon-content>\n                            <div class=\"profile__actions profile__actions--mobile\">\n                                <button v-if=\"!editing\" type=\"button\" class=\"profile__actions-button button button--simple button--red\" @click=\"edit\">\n                                    <span class=\"button__icon\">\n                                        <svg class=\"icon icon--edit\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-edit\"></use>\n                                        </svg>\n                                    </span>\n                                    <span class=\"button__text\">Редактировать</span>\n                                </button>\n                            </div>\n\n                            <div class=\"section__box-inner\">\n                                <h5 class=\"box__heading box__heading--middle\">Общее</h5>\n\n                                <div class=\"section__box-content box box--white box--rounded-sm box--inner\">\n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Статус и гражданство</h6>\n\n                                        <div class=\"form__row form__row--mixed\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"status\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Статус</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"form__control\">\n                                                            <div class=\"profile__toggle-select select select--mitigate\" data-select>\n                                                                <select class=\"select__control js-required\" name=\"status\" id=\"status\" data-select-control data-placeholder=\"Выберите статус\">\n                                                                    <option><!-- пустой option для placeholder --></option>\n                                                                    <option\n                                                                        v-for=\"type in types\"\n                                                                        :key=\"type.id\"\n                                                                        :value=\"type.id\"\n                                                                        :selected=\"type.id === legalEntity.type.id\"\n                                                                    >\n                                                                        {{ type.name }}\n                                                                    </option>\n                                                                </select>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <!-- TODO: Определиться с реализацией -->\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"nationality\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Гражданство</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"form__control\">\n                                                            <div class=\"profile__toggle-select select select--mitigate\" data-select>\n                                                                <select class=\"select__control js-required\" name=\"nationality\" id=\"nationality\" data-select-control data-placeholder=\"Выберите статус гражданства\">\n                                                                    <option><!-- пустой option для placeholder --></option>\n                                                                    <option\n                                                                        value=\"russian\"\n                                                                        :selected=\"mutableLegalEntity.documents.nationality === 'russian'\"\n                                                                    >Резидент РФ</option>\n                                                                    <option\n                                                                        value=\"not_russian\"\n                                                                        :selected=\"mutableLegalEntity.documents.nationality === 'not_russian'\"\n                                                                    >Нерезидент РФ</option>\n                                                                </select>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Паспортные данные</h6>\n\n                                        <div class=\"form__row form__row--mixed\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"passport_series\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Серия</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"passport_series\"\n                                                                id=\"passport_series\"\n                                                                placeholder=\"12 34\"\n                                                                data-passport-seria\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.passport_series\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"passport_number\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Номер</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input \n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"passport_number\"\n                                                                id=\"passport_number\"\n                                                                placeholder=\"Введите номер паспорта\"\n                                                                data-passport-number\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.passport_number\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"form__row form__row--mixed\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"who_got\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Кем выдан</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"who_got\"\n                                                                id=\"who_got\"\n                                                                placeholder=\"Кем выдан\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.who_got\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"getting_date\" class=\"form__label\">\n                                                            <span class=\"form__label-text\">Дата выдачи паспорта</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input input--iconed\">\n                                                            <input\n                                                                inputmode=\"numeric\"\n                                                                class=\"input__control js-required js-date\"\n                                                                name=\"getting_date\"\n                                                                id=\"getting_date\"\n                                                                placeholder=\"ДД.ММ.ГГГГ\"\n                                                                data-mask-date\n                                                                data-pets-date-input\n                                                                data-pets-change\n                                                                data-profile-readonly\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.getting_date\"\n                                                                autocomplete=\"off\"\n                                                            >\n                                                            <span class=\"input__icon\">\n                                                                <svg class=\"icon icon--calendar\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-calendar\"></use>\n                                                                </svg>\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Адрес регистрации</h6>\n\n                                        <div class=\"form__row form__row--mixed\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"register_locality\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Населенный пункт</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"register_locality\"\n                                                                id=\"register_locality\"\n                                                                placeholder=\"Населенный пункт\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.register_locality\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"register_street\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Улица</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"register_street\"\n                                                                id=\"register_street\"\n                                                                placeholder=\"Улица\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.register_street\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"form__row form__row--mixed\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"register_house\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Дом</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"passport.addressRegistration.home\"\n                                                                id=\"register_house\"\n                                                                placeholder=\"Дом\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.register_house\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"register_apartment\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Квартира</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"register_apartment\"\n                                                                id=\"register_apartment\"\n                                                                placeholder=\"Квартира\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.register_apartment\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"register_postal_code\" class=\"profile__label form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Индекс</span>\n                                                        </label>\n                                                    </div>\n\n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control js-required\"\n                                                                data-profile-readonly\n                                                                name=\"register_postal_code\"\n                                                                id=\"register_postal_code\"\n                                                                placeholder=\"Индекс\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.register_postal_code\"\n                                                                data-mask-post-reg\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"section__box-block\" data-identic data-validate-dependent>\n                                        <h6 class=\"box__heading box__heading--small\">Адрес проживания</h6>\n                                            <div class=\"form__row form__row--mixed\">\n                                                <div class=\"form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"living_locality\" class=\"profile__label form__label form__label--required\">\n                                                                <span class=\"form__label-text\">Населенный пункт</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"input\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    class=\"input__control js-required-dependent\"\n                                                                    data-identic-input\n                                                                    data-profile-readonly\n                                                                    name=\"living_locality\"\n                                                                    id=\"living_locality\"\n                                                                    placeholder=\"Населенный пункт\"\n                                                                    :readonly=\"!editing\"\n                                                                    v-model=\"mutableLegalEntity.documents.living_locality\"\n                                                                    data-replace-input=\"adress\"\n                                                                >\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"living_street\" class=\"profile__label form__label form__label--required\">\n                                                                <span class=\"form__label-text\">Улица</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"input\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    class=\"input__control js-required-dependent\"\n                                                                    data-identic-input\n                                                                    data-profile-readonly\n                                                                    name=\"living_street\"\n                                                                    id=\"living_street\"\n                                                                    placeholder=\"Улица\"\n                                                                    :readonly=\"!editing\"\n                                                                    v-model=\"mutableLegalEntity.documents.living_street\"\n                                                                    data-replace-input=\"adress\"\n                                                                >\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"form__row form__row--mixed\">\n                                                <div class=\"form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"living_house\" class=\"profile__label form__label form__label--required\">\n                                                                <span class=\"form__label-text\">Дом</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"input\">\n                                                                <input\n                                                                    type=\"number\"\n                                                                    class=\"input__control js-required-dependent\"\n                                                                    data-identic-input\n                                                                    data-profile-readonly\n                                                                    name=\"living_house\"\n                                                                    id=\"living_house\"\n                                                                    placeholder=\"Дом\"\n                                                                    :readonly=\"!editing\"\n                                                                    v-model=\"mutableLegalEntity.documents.living_house\"\n                                                                    data-replace-input=\"adress\"\n                                                                >\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"living_apartment\" class=\"profile__label form__label form__label--required\">\n                                                                <span class=\"form__label-text\">Квартира</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"input\">\n                                                                <input\n                                                                    type=\"number\"\n                                                                    class=\"input__control js-required-dependent\"\n                                                                    data-identic-input\n                                                                    data-profile-readonly\n                                                                    name=\"living_apartment\"\n                                                                    id=\"living_apartment\"\n                                                                    placeholder=\"Квартира\"\n                                                                    :readonly=\"!editing\"\n                                                                    v-model=\"mutableLegalEntity.documents.living_apartment\"\n                                                                    data-replace-input=\"adress\"\n                                                                >\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                \n                                                <div class=\"form__col\">\n                                                    <div class=\"form__field\">\n                                                        <div class=\"form__field-block form__field-block--label\">\n                                                            <label for=\"living_postal_code\" class=\"profile__label form__label form__label--required\">\n                                                                <span class=\"form__label-text\">Индекс</span>\n                                                            </label>\n                                                        </div>\n\n                                                        <div class=\"form__field-block form__field-block--input\">\n                                                            <div class=\"input\">\n                                                                <input\n                                                                    type=\"text\"\n                                                                    class=\"input__control js-required-dependent\"\n                                                                    data-identic-input\n                                                                    data-profile-readonly\n                                                                    name=\"living_postal_code\"\n                                                                    id=\"living_postal_code\"\n                                                                    placeholder=\"Индекс\"\n                                                                    :readonly=\"!editing\"\n                                                                    v-model=\"mutableLegalEntity.documents.living_postal_code\"\n                                                                    data-mask-post-living\n                                                                >\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        \n                                        <!-- TODO: Определиться с реализацией -->\n                                        <div class=\"profile__toggle form__row form__row--mixed\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"checkbox\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            class=\"checkbox__input\"\n                                                            name=\"without_living\"\n                                                            id=\"without_living\"\n                                                            data-identic-change\n                                                            data-validate-dependent-change\n                                                            :readonly=\"!editing\"\n                                                            v-model=\"mutableLegalEntity.documents.without_living\"                                                            \n                                                        >\n\n                                                        <label for=\"without_living\" class=\"checkbox__label\">\n                                                            <span class=\"checkbox__icon\">\n                                                                <svg class=\"checkbox__icon-pic icon icon--check\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-check\">\n                                                                </svg>\n                                                            </span>\n\n                                                            <span class=\"checkbox__text\">Адрес регистрации совпадает с адресом фактического проживания</span>\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия паспорта</h6>\n                                        <Dropzone\n                                            :files=\"mutableLegalEntity.documents.passport\"\n                                            :editing=\"editing\"\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div :hidden=\"mutableLegalEntity.type.code !== 'STATUS_SELF_EMPLOYED'\" class=\"section__box-inner legal_entity STATUS_SELF_EMPLOYED\">\n                                <h5 class=\"box__heading box__heading--middle\">Самозанятый</h5>\n                    \n                                <div class=\"section__box-content box box--white box--rounded-sm box--inner\">\n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"tin\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">ИНН</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"tin\"\n                                                                id=\"tin\"\n                                                                placeholder=\"ИНН\"\n                                                                data-inn\n                                                                v-model=\"mutableLegalEntity.documents.tin\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия свидетельства о постановке на учет в налоговом органе</h6>\n\n                                          <Dropzone\n                                              :files=\"mutableLegalEntity.documents.tax_registration_certificate\"\n                                              :editing=\"editing\"\n                                          />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Банковские реквизиты</h6>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"bank_name\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Наименование банка</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"bank_name\"\n                                                                id=\"bank_name\"\n                                                                placeholder=\"Наименование банка\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bank_name\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"bic\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">БИК</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"bic\"\n                                                                id=\"bic\"\n                                                                placeholder=\"БИК\"\n                                                                data-bik\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bic\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"checking_account\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Расчетный счет</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control\"\n                                                                name=\"checking_account\"\n                                                                id=\"checking_account\"\n                                                                placeholder=\"Расчетный счет\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bic\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"correspondent_account\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Корреспондентский счет</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control\"\n                                                                name=\"correspondent_account\"\n                                                                id=\"correspondent_account\"\n                                                                placeholder=\"Корреспондентский счет\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.correspondent_account\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Сведения о банковских реквизитах</h6>\n                                          <Dropzone\n                                              :files=\"mutableLegalEntity.documents.bank_details\"\n                                              :editing=\"editing\"\n                                          />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия справки о постановке на учет физического лица в качестве плательщика налога на профессиональный доход</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.personal_tax_registration_certificate\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div :hidden=\"mutableLegalEntity.type.code !== 'STATUS_IP'\" class=\"section__box-inner legal_entity STATUS_IP\">\n                                <h5 class=\"box__heading box__heading--middle\">Индивидуальный предприниматель</h5>\n                    \n                                <div class=\"section__box-content box box--white box--rounded-sm box--inner\">\n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ip_name\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Наименование ИП</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ip_name\"\n                                                                id=\"ip_name\"\n                                                                placeholder=\"Наименование ИП\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ip_name\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"tin\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">ИНН</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"tin\"\n                                                                id=\"tin\"\n                                                                placeholder=\"ИНН\"\n                                                                data-inn\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.tin\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"checkbox\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            class=\"checkbox__input\"\n                                                            name=\"nds_payer_ip\"\n                                                            id=\"nds_payer_ip\"\n                                                            :readonly=\"!editing\"\n                                                            v-model=\"mutableLegalEntity.documents.nds_payer_ip\"\n                                                            :checked=\"mutableLegalEntity.documents.nds_payer_ip\" \n                                                        >\n                        \n                                                        <label for=\"nds_payer_ip\" class=\"checkbox__label\">\n                                                            <span class=\"checkbox__icon\">\n                                                                <svg class=\"checkbox__icon-pic icon icon--check\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-check\">\n                                                                </svg>\n                                                            </span>\n                        \n                                                            <span class=\"checkbox__text\">Плательщик НДС</span>\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия свидетельства о постановке на учет в налоговом органе</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.tax_registration_certificate\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия уведомления о применении УСН упрощенной системы налогоплательщика(в случае применения УСН)</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.usn_notification\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ogrnip\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">ОГРНИП</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ogrnip\"\n                                                                id=\"ogrnip\"\n                                                                placeholder=\"ОГРНИП\"\n                                                                data-ogrnip\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ogrnip\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия свидетельства о государственной регистрации ИП/листа записи ЕГРИП</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.ip_registration_certificate\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Банковские реквизиты</h6>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"bank_name\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Наименование банка</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"bank_name\"\n                                                                id=\"bank_name\"\n                                                                placeholder=\"Наименование банка\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bank_name\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"bic\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">БИК</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"bic\"\n                                                                id=\"bic\"\n                                                                placeholder=\"БИК\"\n                                                                data-bik\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bic\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"checking_account\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Расчетный счет</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control\"\n                                                                name=\"checking_account\"\n                                                                id=\"checking_account\"\n                                                                placeholder=\"Расчетный счет\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.checking_account\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"correspondent_account\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Корреспондентский счет</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control\"\n                                                                name=\"correspondent_account\"\n                                                                id=\"correspondent_account\"\n                                                                placeholder=\"Корреспондентский счет\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.correspondent_account\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Сведения о банковских реквизитах</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.bank_details\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div :hidden=\"mutableLegalEntity.type.code !== 'STATUS_JURIDICAL'\" class=\"section__box-inner legal_entity STATUS_JURIDICAL\">\n                                <h5 class=\"box__heading box__heading--middle\">Общество с ограниченной ответственностью</h5>\n                    \n                                <div class=\"section__box-content box box--white box--rounded-sm box--inner\">\n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_full_name\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Наименование организации (полное)</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_full_name\"\n                                                                id=\"ltc_full_name\"\n                                                                placeholder=\"Наименование организации (полное)\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_full_name\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_short_name\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">\n                                                                <span class=\"form__label-text form__label-text--desktop\">\n                                                                    Наименование организации (сокращенное)\n                                                                </span>\n                                                                <span class=\"form__label-text form__label-text--mobile\">\n                                                                    Наименование организации\n                                                                    <span class=\"form__label-minitext\" data-tippy-content=\"сокращенное\">\n                                                                        (сокр.)\n                                                                    </span>\n                                                                </span>\n                                                            </span\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_short_name\"\n                                                                id=\"ltc_short_name\"\n                                                                placeholder=\"Наименование организации (сокращенное)\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_short_name\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ogrn\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">ОГРН</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ogrn\"\n                                                                id=\"ogrn\"\n                                                                placeholder=\"ОГРН\"\n                                                                data-ogrn\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ogrn\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"tin\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">ИНН</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"tin\"\n                                                                id=\"tin\"\n                                                                placeholder=\"ИНН\"\n                                                                data-short-inn\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.tin\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"checkbox\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            class=\"checkbox__input\"\n                                                            name=\"nds_payer_ltc\"\n                                                            id=\"nds_payer_ltc\"\n                                                            :readonly=\"!editing\"\n                                                            v-model=\"mutableLegalEntity.documents.nds_payer_ltc\"\n                                                            :checked=\"mutableLegalEntity.documents.nds_payer_ltc\" \n                                                        >\n                        \n                                                        <label for=\"nds_payer_ltc\" class=\"checkbox__label\">\n                                                            <span class=\"checkbox__icon\">\n                                                                <svg class=\"checkbox__icon-pic icon icon--check\">\n                                                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-check\">\n                                                                </svg>\n                                                            </span>\n                        \n                                                            <span class=\"checkbox__text\">Плательщик НДС</span>\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия свидетельства о постановке на учет российской организации в налоговом органе</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.tax_registration_certificate\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия уведомления о применении УСН упрощенной системы налогоплательщика(в случае применения УСН)</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.usn_notification\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <div class=\"form__row\">\n                                            <div class=\"form__col form__col--50\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"kpp\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">КПП</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"kpp\"\n                                                                id=\"kpp\"\n                                                                placeholder=\"КПП\"\n                                                                data-kpp\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.kpp\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия устава ООО</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.llc_charter\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия протокола участников (решения участника) ООО об избрании руководителя организации</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.llc_members\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия приказа о вступлнеии в должность генерального директора</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.ceo_appointment\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия свидетельства о государственной регистрации ООО/листа записи ЕГРЮЛ о внесении записи об ООО в ЕГРЮЛ</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.llc_registration_certificate\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"form__row\">\n                                        <div class=\"form__col\">\n                                            <div class=\"form__field\">\n                                                <div class=\"checkbox\">\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        class=\"checkbox__input\"\n                                                        name=\"need_proxy\"\n                                                        id=\"need_proxy\"\n                                                        :readonly=\"!editing\"\n                                                        v-model=\"mutableLegalEntity.documents.need_proxy\"\n                                                        :checked=\"mutableLegalEntity.documents.need_proxy\" \n                                                    >\n                    \n                                                    <label for=\"need_proxy\" class=\"checkbox__label\">\n                                                        <span class=\"checkbox__icon\">\n                                                            <svg class=\"checkbox__icon-pic icon icon--check\">\n                                                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-check\">\n                                                            </svg>\n                                                        </span>\n                    \n                                                        <span class=\"checkbox__text\">У меня нет права подписи документов ООО, я хотел бы добавить уполномоченное лицо</span>\n                                                    </label>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Копия доверенности на представителя (в случае подписания представителем-не руководителем ООО)</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.procuration\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Банковские реквизиты</h6>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"bank_name\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Наименование банка</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"bank_name\"\n                                                                id=\"bank_name\"\n                                                                placeholder=\"Наименование банка\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bank_name\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"bic\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">БИК</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"bic\"\n                                                                id=\"bic\"\n                                                                placeholder=\"БИК\"\n                                                                data-bik\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.bic\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"checking_account\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Расчетный счет</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control\"\n                                                                name=\"checking_account\"\n                                                                id=\"checking_account\"\n                                                                placeholder=\"Расчетный счет\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.checking_account\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"correspondent_account\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Корреспондентский счет</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"number\"\n                                                                class=\"input__control\"\n                                                                name=\"correspondent_account\"\n                                                                id=\"correspondent_account\"\n                                                                placeholder=\"Корреспондентский счет\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.correspondent_account\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Сведения о банковских реквизитах</h6>\n\n                                      <Dropzone\n                                          :files=\"mutableLegalEntity.documents.bank_details\"\n                                          :editing=\"editing\"\n                                      />\n                                    </div>\n                    \n                                    <div class=\"section__box-block\">\n                                        <h6 class=\"box__heading box__heading--small\">Адрес организации</h6>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_locality\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Населенный пункт</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_locality\"\n                                                                id=\"ltc_locality\"\n                                                                placeholder=\"Населенный пункт\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_locality\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_street\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Улица</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_street\"\n                                                                id=\"ltc_street\"\n                                                                placeholder=\"Улица\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_street\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                    \n                                        <div class=\"form__row\">\n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_address_1\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Дом, корпус, строение</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_address_1\"\n                                                                id=\"ltc_address_1\"\n                                                                placeholder=\"Дом, корпус, строение\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_address_1\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_address_2\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Этаж, помещение, комната</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_address_2\"\n                                                                id=\"ltc_address_2\"\n                                                                placeholder=\"Этаж, помещение, комната\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_address_2\"\n                                                                data-replace-input=\"adress\"\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    \n                    \n                                            <div class=\"form__col\">\n                                                <div class=\"form__field\">\n                                                    <div class=\"form__field-block form__field-block--label\">\n                                                        <label for=\"ltc_postal_code\" class=\"form__label form__label--required\">\n                                                            <span class=\"form__label-text\">Индекс</span>\n                                                        </label>\n                                                    </div>\n                    \n                                                    <div class=\"form__field-block form__field-block--input\">\n                                                        <div class=\"input\">\n                                                            <input\n                                                                type=\"text\"\n                                                                class=\"input__control\"\n                                                                name=\"ltc_postal_code\"\n                                                                id=\"ltc_postal_code\"\n                                                                placeholder=\"Индекс\"\n                                                                :readonly=\"!editing\"\n                                                                v-model=\"mutableLegalEntity.documents.ltc_postal_code\"\n                                                                data-mask-post-ltc\n                                                            >\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"profile__toggle profile__toggle--inline section__actions\">\n                                <div class=\"section__actions-col\">\n\n                                  <button type=\"button\" class=\"button button--rounded button--mixed button--red button--full\" @click=\"() => cancelEditing(pet, petKey)\">\n                                    <span class=\"button__text\">Отменить изменения</span>\n                                  </button>\n                                </div>\n\n                                <div class=\"section__actions-col\">\n                                    <button type=\"button\" class=\"profile__button-save button button--rounded button--covered button--green button--full\" @click=\"saveChanges\">\n                                        <span class=\"button__text\">Сохранить изменения</span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n\n        <article id=\"thanks\" class=\"modal modal--wide modal--centered box box--circle box--hanging\" style=\"display: none\">\n            <div class=\"modal__content\">\n                <section class=\"modal__section modal__section--content\">\n                    <div class=\"notification notification--simple\">\n                        <div class=\"notification__icon\">\n                            <svg class=\"icon icon--cat-serious\">\n                                <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-cat-serious\"></use>\n                            </svg>\n                        </div>\n                        \n                        <h4 class=\"notification__title\">Спасибо за обращение</h4>\n                        <p class=\"notification__text\">Мы проверим обновленные данные и уведомим Вас о результате внесения изменений. </p>\n                    </div>\n                </section>\n            </div>\n        </article>\n    `,\n};","import { defineStore } from 'ui.vue3.pinia';\n\nexport const detailOfferStore = defineStore('detailOffer', {\n    state: () => ({\n        offers: [],\n        currentOfferId: undefined,\n    }),\n    getters: {\n        article() {\n            return this.offers.ARTICLES[this.currentOfferId];\n        },\n        images() {\n            return this.offers.PHOTOS[this.currentOfferId];\n        },\n        packagings() {\n            return this.offers.PACKAGINGS;\n        },\n        colors() {\n            return this.offers.COLORS;\n        },\n        currentColor() {\n            return this.offers.COLORS[this.currentOfferId];\n        },\n        currentSize() {\n            return this.offers.SIZES[this.currentOfferId];\n        },\n        color2Size() {\n            return this.offers.COLOR2SIZE;\n        },\n        size2Color() {\n            return this.offers.SIZE2COLOR;\n        },\n        allColors() {\n            return this.offers.ALL_COLORS;\n        },\n        price() {\n            return this.offers.PRICES[this.currentOfferId];\n        },\n        bonuses() {\n            return this.offers.BONUSES_PRICES[this.currentOfferId];\n        },\n        catalogQuantity() {\n            return this.offers.OFFERS[this.currentOfferId].CATALOG_QUANTITY;\n        },\n        isNonreturnable() {\n            return this.offers.NONRETURNABLE;\n        },\n        inWishlist() {\n            return this.offers.OFFERS[this.currentOfferId].IN_WISHLIST;\n        },\n    },\n    actions: {\n        getIdByColor(color){\n            // size preselected\n            let size = this.offers.SIZES[this.currentOfferId];\n            return this.offers.SIZE2COLOR[size][color];\n        },\n        getIdBySize(size){\n            // color preselected\n            let color = this.offers.COLORS[this.currentOfferId];\n            return this.offers.COLOR2SIZE[color][size];\n        },\n        load(name, data) {\n            this[name] = data;\n        },\n        checkAvailable(id) {\n            return !!this.offers.AVAILABLE[id];\n        },\n        setStore(data) {\n            this.offers = data;\n        },\n        setOffer(id) {\n            this.currentOfferId = id;\n        },\n        toggleInWishlist() {\n            this.offers.OFFERS[this.currentOfferId].IN_WISHLIST = !this.offers.OFFERS[this.currentOfferId].IN_WISHLIST;\n        },\n    },\n})","import {mapState} from \"ui.vue3.pinia\";\r\nimport {detailOfferStore} from \"../../../stores/detailOfferStore\";\r\nimport {_} from \"loda\";\r\n\r\nexport const SelectOffer = {\r\n    data() {\r\n        return {\r\n            isSizeRestricted: false\r\n        };\r\n    },\r\n\r\n    setup() {\r\n        const store = detailOfferStore();\r\n        return {\r\n            store\r\n        }\r\n    },\r\n    mounted() {\r\n        // window.initSelect(); // TODO ?\r\n        $('select[name=select-size]').on('change', () => this.setSelectOffer('select-size'));\r\n    },\r\n    updated() {\r\n        window.initSelect();\r\n    },\r\n    computed: {\r\n        ...mapState(detailOfferStore, ['allColors', 'offers', 'currentOfferId', 'packagings', 'color2Size', 'size2Color', 'currentColor', 'currentSize']),\r\n    },\r\n    methods: {\r\n        setOffer(event) {\r\n            this.isSizeRestricted = false;\r\n            if (this.store.checkAvailable(event.target.value)) {\r\n                this.store.setOffer(event.target.value);\r\n            }\r\n        },\r\n        setSelectOffer(name) {\r\n            this.isSizeRestricted = true;\r\n            let value = $('select[name=' + name + ']').val();\r\n            if (this.store.checkAvailable(value)) {\r\n                this.store.setOffer(value);\r\n            }\r\n        },\r\n        getColorOffer(color) {\r\n            if (this.isSizeRestricted) {\r\n                return this.store.getIdByColor(color);\r\n            } else {\r\n                if (color == this.currentColor) {\r\n                    return this.currentOfferId;\r\n                }\r\n                let keys = Object.keys(this.color2Size[color]);\r\n                let first = (keys.indexOf(this.currentSize) == -1) ? keys[0] : this.currentSize;\r\n                return this.color2Size[color][first];\r\n            }\r\n        }\r\n\r\n    },\r\n    // language=Vue\r\n    template: `\r\n        <template v-if=\"packagings.length > 0\">\r\n            <div class=\"specification__packs packs\">\r\n                <p class=\"specification__category\">Фасовка</p>\r\n                <ul class=\"packs__list\">\r\n                    <li class=\"packs__item\" v-for=\"(item) in packagings\">\r\n                        <div class=\"pack pack--bordered\" v-bind:data-tippy-content=\"offers.AVAILABLE[item.offerId] ? '' : 'Нет в наличии'\">\r\n                            <div class=\"radio\">\r\n                                <input autocomplete=\"off\" type=\"radio\" class=\"pack__input radio__input\" name=\"radio_pack\"\r\n                                       @click=\"setOffer\"\r\n                                       v-bind:value=\"item.offerId\"\r\n                                       v-bind:id=\"'radio' + item.offerId\"\r\n                                       v-bind:disabled=\"!offers.AVAILABLE[item.offerId]\"\r\n                                       v-bind:checked=\"currentOfferId == item.offerId\"\r\n                                >\r\n                                <label v-bind:for=\"'radio' + item.offerId\">\r\n                                    <div v-bind:class=\"'pack__item' + (offers.AVAILABLE[item.offerId] ? '': ' pack__item--disabled')\">\r\n                                        {{item.package}}\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </template>\r\n        <template v-else-if=\"color2Size\">\r\n            <div class=\"specification__colors colors colors--big\">\r\n                <p class=\"specification__category\">Цвет</p>\r\n                <ul class=\"colors__list\">\r\n                    <li class=\"colors__item\" v-for=\"(item, color) in color2Size\" :class=\"'colors__item-' + color\" v-bind:data-tippy-content=\"offers.AVAILABLE[getColorOffer(color)] ? '' : 'Нет в наличии'\">\r\n                        <div v-bind:class=\"'color ' + ((offers.AVAILABLE[getColorOffer(color)]) ? '' : ' color--disabled')\">\r\n                            <div class=\"radio\">\r\n                                <input autocomplete=\"off\" type=\"radio\" class=\"color__input radio__input\" name=\"radio_color\"\r\n                                       @click=\"setOffer\"\r\n                                       v-bind:value=\"getColorOffer(color)\"\r\n                                       v-bind:id=\"'radio' + getColorOffer(color)\"\r\n                                       v-bind:disabled=\"!offers.AVAILABLE[getColorOffer(color)]\"\r\n                                       v-bind:checked=\"currentOfferId == getColorOffer(color)\"\r\n                                >\r\n                                <label v-bind:for=\"'radio' + getColorOffer(color)\">\r\n                                  <div class=\"color__item\">\r\n                                    <div class=\"color__item-wrapper\">\r\n                                      <img :src=\"allColors[color].file_src\" class=\"color__item-pic\" alt=\"Color\">\r\n                                    </div>\r\n                                  </div>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"specification__breed\">\r\n                <p class=\"specification__category\">Размер</p>\r\n                <div class=\"specification__select select select--middle\" data-select>\r\n                    <select class=\"select__control\" name=\"select-size\" data-select-control\r\n                            data-placeholder=\"Выберите размер\" data-option>\r\n                        <option><!-- пустой option для placeholder --></option>\r\n                        <option v-for=\"(item, size) in size2Color\"\r\n                                v-bind:value=\"store.getIdBySize(size)\"\r\n                                v-bind:disabled=\"!offers.AVAILABLE[store.getIdBySize(size)]\"\r\n                                v-bind:selected=\"currentOfferId == store.getIdBySize(size)\"\r\n                        >\r\n                            {{ offers.SIZE_NAMES[size] }} &lt;span class=&quot;stock\r\n                            {{ (offers.AVAILABLE[store.getIdBySize(size)] ? 'stock--yes' : '') }}&quot;&gt;\r\n                            {{(!offers.AVAILABLE[store.getIdBySize(size)] ? 'нет ' : '')}} в наличии&lt;/span&gt;\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    `\r\n};","import {mapState} from \"ui.vue3.pinia\";\r\nimport {detailOfferStore} from \"../../../stores/detailOfferStore\";\r\n\r\nexport const OfferArticle = {\r\n    props: {\r\n        isMobile: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n    },\r\n    data() {\r\n        return {};\r\n    },\r\n    computed: {\r\n        ...mapState(detailOfferStore, ['offers', 'currentOfferId', 'article']),\r\n    },\r\n    setup() {\r\n        return { store: detailOfferStore() };\r\n    },\r\n\r\n    template: `\r\n        <p class=\"specification__article\" :class=\"[isMobile ? 'specification__article--mobile': 'specification__article--hidden']\">\r\n            Арт. {{ article }}\r\n        </p>\r\n    `\r\n};","import {mapState} from \"ui.vue3.pinia\";\r\nimport {detailOfferStore} from \"../../../stores/detailOfferStore\";\r\nimport {useBasketStore} from \"../../../stores/basketStore\";\r\nimport NumberFormatMixin from \"../../../mixins/NumberFormatMixin\";\r\n\r\nexport const OfferPrice = {\r\n    mixins: [NumberFormatMixin],\r\n\r\n    props: {\r\n        isAuthorized: {\r\n            type: Boolean,\r\n            required: true,\r\n        },\r\n        isConsultant: {\r\n            type: Boolean,\r\n            required: true,\r\n        },\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            inCartState: false\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        ...mapState(detailOfferStore, ['price', 'bonuses', 'currentOfferId', 'catalogQuantity', 'isNonreturnable']),\r\n        ...mapState(useBasketStore, ['items', 'fetched']),\r\n    },\r\n\r\n    setup() {\r\n        return {\r\n            offerStore: detailOfferStore(),\r\n            basketStore: useBasketStore(),\r\n        };\r\n    },\r\n\r\n    methods: {\r\n        async increaseItem() {\r\n            if (!this.inCartState) {\r\n                this.inCartState = true;\r\n                await this.basketStore.increaseItem(this.currentOfferId, window.location.pathname, this.isNonreturnable);\r\n                this.inCartState = false;\r\n            } else {\r\n                return\r\n            }\r\n        },\r\n\r\n        decreaseItem() {\r\n            this.basketStore.decreaseItem(this.currentOfferId);\r\n        },\r\n\r\n        showPriceWhole(item) {\r\n            const number = parseFloat(item);\r\n            const numberFloor = Math.floor(number);\r\n            return numberFloor.toLocaleString('ru-RU', {minimumFractionDigits: 0});\r\n        },\r\n\r\n        showPriceRemains(item) {\r\n            const number = parseFloat(item);\r\n            const numberFixed = number.toFixed(2);\r\n            const totalRemains = numberFixed.toString().split('.')[1];\r\n           \r\n            if (totalRemains === \"00\") {\r\n                return \r\n            } else {\r\n                return ',' + totalRemains\r\n            }\r\n        }\r\n    },\r\n    \r\n    template: `\r\n        <div class=\"cart__price price\" data-quantity>\r\n            <template v-if=\"this.isConsultant\">\r\n              <p v-if=\"price.BASE_PRICE\" class=\"price__main\">\r\n                    <span class=\"cart__price-whole\">\r\n                        {{ showPriceWhole(price.BASE_PRICE) }}\r\n                    </span>\r\n                    <span class=\"cart__price-remains\">\r\n                        {{ showPriceRemains(price.BASE_PRICE) }}&nbsp;₽\r\n                    </span>\r\n              </p>\r\n              <div class=\"price__calculation\">\r\n                <p class=\"price__calculation-total\">\r\n                    <span class=\"cart__price-whole\">\r\n                        {{ showPriceWhole(price.PRICE) }}\r\n                    </span>\r\n                    <span class=\"cart__price-remains\">\r\n                        {{ showPriceRemains(price.PRICE) }}&nbsp;₽\r\n                    </span>\r\n                </p>\r\n                <p class=\"price__calculation-accumulation\">{{ formatNumber(bonuses) }} ББ</p>\r\n              </div>\r\n            </template>\r\n            <template v-else-if=\"isAuthorized && price.BASE_PRICE\">\r\n                <div class=\"price__calculation\" >\r\n                    <p class=\"price__calculation-total price__calculation-total--red\">\r\n                        <span class=\"cart__price-whole\">\r\n                            {{ showPriceWhole(price.PRICE) }}\r\n                        </span>\r\n                        <span class=\"cart__price-remains\">\r\n                            {{ showPriceRemains(price.PRICE) }}&nbsp;₽\r\n                        </span>\r\n                    </p>\r\n                    <p class=\"price__main\">\r\n                        <span class=\"cart__price-whole\">\r\n                            {{ showPriceWhole(price.BASE_PRICE) }}\r\n                        </span>\r\n                        <span class=\"cart__price-remains\">\r\n                            {{ showPriceRemains(price.BASE_PRICE) }}&nbsp;₽\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n            </template>\r\n            <template v-else>\r\n              <div class=\"price__calculation\" >\r\n                <p class=\"price__calculation-total\">\r\n                    <span class=\"cart__price-whole\">\r\n                        {{ showPriceWhole(price.PRICE) }}\r\n                    </span>\r\n                    <span class=\"cart__price-remains\">\r\n                        {{ showPriceRemains(price.PRICE) }}&nbsp;₽\r\n                    </span>\r\n                </p>\r\n              </div>\r\n            </template>\r\n        </div>\r\n        <div v-if=\"fetched\" class=\"cart__quantity quantity\" :class=\"{ 'quantity--active': items[currentOfferId]?.QUANTITY }\">\r\n            <div v-if=\"!items[currentOfferId]?.QUANTITY\" class=\"quantity__button\">\r\n              <button :disabled=\"inCartState\" type=\"button\" class=\"button button--full button--medium button--rounded button--covered button--white-green\" @click=\"increaseItem\">\r\n                <span class=\"button__icon\">\r\n                    <svg class=\"icon icon--basket\">\r\n                        <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-basket\"></use>\r\n                    </svg>\r\n                </span>\r\n                <span class=\"button__text\">В корзину</span>\r\n              </button>\r\n            </div>\r\n    \r\n            <div v-else class=\"quantity__actions\">\r\n              <div class=\"quantity__decrease\">\r\n                <button type=\"button\" class=\"button button--iconed button--covered button--square button--small button--gray-red button--counter\" @click=\"decreaseItem\">\r\n                    <span class=\"button__icon button__icon--small\">\r\n                        <svg class=\"icon icon--minus\">\r\n                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-minus\"></use>\r\n                        </svg>\r\n                    </span>\r\n                </button>\r\n              </div>\r\n    \r\n              <div class=\"quantity__total\">\r\n                    <span class=\"quantity__total-icon\">\r\n                        <svg class=\"icon icon--basket\">\r\n                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-basket\"></use>\r\n                        </svg>\r\n                    </span>\r\n                <span class=\"quantity__total-sum\">{{ formatNumber(items[currentOfferId]?.QUANTITY) }}</span>\r\n              </div>\r\n    \r\n              <div class=\"quantity__increase\">\r\n                <button type=\"button\" class=\"button button--iconed button--covered button--square button--small button--gray-green button--counter\" @click=\"increaseItem\" :disabled=\"parseInt(items[currentOfferId]?.QUANTITY) >= Math.min(catalogQuantity, 99)\" :class=\"{ 'button--disabled': parseInt(items[currentOfferId]?.QUANTITY) >= Math.min(catalogQuantity, 99) }\">\r\n                    <span class=\"button__icon button__icon--small\">\r\n                        <svg class=\"icon icon--plus\">\r\n                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-plus\"></use>\r\n                        </svg>\r\n                    </span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    `\r\n};","import {mapState} from \"ui.vue3.pinia\";\r\nimport {detailOfferStore} from \"../../../stores/detailOfferStore\";\r\nexport const SelectOfferMobile = {\r\n    data() {\r\n        return {\r\n            isSizeRestricted: false\r\n        };\r\n    },\r\n\r\n    setup() {\r\n        const store = detailOfferStore();\r\n        return {\r\n            store\r\n        }\r\n    },\r\n    mounted() {\r\n        // window.initSelect();\r\n        $('select[name=select-package]').on('change',() => this.setOffer('select-package', false));\r\n        $('select[name=select-color]').on('change',() => this.setOffer('select-color', false));\r\n        $('select[name=select-size-mob]').on('change',() => this.setOffer('select-size-mob', true));\r\n    },\r\n    updated() {\r\n        window.initSelect();\r\n\r\n    },\r\n    computed: {\r\n        ...mapState(detailOfferStore, ['allColors', 'offers', 'currentOfferId', 'packagings', 'color2Size', 'size2Color', 'currentColor', 'currentSize']),\r\n    },\r\n    methods: {\r\n        setOffer(name, selectFlag) {\r\n            this.isSizeRestricted = selectFlag;\r\n            let value = $('select[name=' + name+ ']').val();\r\n            if (this.store.checkAvailable(value)) {\r\n                this.store.setOffer(value);\r\n            }\r\n        },\r\n        getColorOffer(color) {\r\n            if (this.isSizeRestricted) {\r\n                return this.store.getIdByColor(color);\r\n            } else {\r\n                if (color == this.currentColor) {\r\n                    return this.currentOfferId;\r\n                }\r\n                let keys = Object.keys(this.color2Size[color]);\r\n                let first = (keys.indexOf(this.currentSize) == -1) ? keys[0] : this.currentSize;\r\n                return this.color2Size[color][first];\r\n            }\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n        <!-- Блок селекта фассовки малый вариант-->\r\n        <template v-if=\"packagings.length > 0\">\r\n            <div class=\"cart__packs\">\r\n                <p class=\"specification__category\">Фасовка</p>\r\n                <div class=\"select select--mini\" data-select  >\r\n                    <select class=\"select__control\"  name=\"select-package\" data-select-control data-placeholder=\"Выберите фасовку\" data-option >\r\n                        <option><!-- пустой option для placeholder --></option>\r\n                        <option v-for=\"(item) in packagings\"\r\n                                v-bind:value=\"item.offerId\"\r\n                                v-bind:selected=\"currentOfferId == item.offerId\"\r\n                                v-bind:disabled=\"!offers.AVAILABLE[item.offerId]\"\r\n                                v-bind:data-option-after=\"'<span class=&quot;stock ' + (offers.AVAILABLE[item.offerId] ? 'stock--yes' : '') + '&quot;>' +  (!offers.AVAILABLE[item.offerId] ? 'нет ' : '') + 'в наличии</span>'\"\r\n                                v-on:click=\"setOffer\"\r\n                        >\r\n                            <span >{{item.package}}</span>\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </template>\r\n        <template v-else-if=\"color2Size\">\r\n            <div class=\"cart__colors\">\r\n                <p class=\"specification__category\">Цвет</p>\r\n                <div class=\"select select--middle select--simple\" data-select>\r\n                    <select class=\"select__control\" name=\"select-color\" data-select-control data-placeholder=\"Выберите цвет\" data-option>\r\n                        <option><!-- пустой option для placeholder --></option>\r\n                        <option v-for=\"(item, color) in color2Size\"\r\n                                v-on:click=\"setOffer\"\r\n                                v-bind:value=\"getColorOffer(color)\"\r\n                                v-bind:selected=\"currentOfferId == getColorOffer(color)\"\r\n                                v-bind:disabled=\"!offers.AVAILABLE[getColorOffer(color)]\"\r\n                                v-bind:data-option-before=\"'<div class=&quot;color__item ' + color + '&quot;><div class=&quot;color__item-wrapper&quot;><img src=&quot;' + allColors[color].file_src + '&quot; class=&quot;color__item-pic&quot;></div></div>'\"\r\n                        >\r\n                            &lt;span class=&quot;color__name&quot;&gt; {{ offers.COLOR_NAMES[color] }} &lt;/span&gt;\r\n                            &lt;span class=&quot;stock {{ (offers.AVAILABLE[getColorOffer(color)] ? ' stock--yes' : '') }} &quot;&gt;\r\n                            {{ (!offers.AVAILABLE[getColorOffer(color)] ? 'нет ' : '') }}в наличии &lt;/span&gt;\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"cart__breed\">\r\n                <p class=\"specification__category\">Размер</p>\r\n                <div class=\"select select--middle select--simple\" data-select>\r\n                    <select class=\"select__control\" name=\"select-size-mob\" data-select-control data-placeholder=\"Выберите размер\" data-option>\r\n                        <option><!-- пустой option для placeholder --></option>\r\n                        <option v-for=\"(item, size) in size2Color\"\r\n                                v-bind:value=\"store.getIdBySize(size)\"\r\n                                v-bind:disabled=\"!offers.AVAILABLE[store.getIdBySize(size)]\"\r\n                                v-bind:selected=\"currentOfferId == store.getIdBySize(size)\"\r\n                        >\r\n                            {{ offers.SIZE_NAMES[size] }} &lt;span class=&quot;stock\r\n                            {{ (offers.AVAILABLE[store.getIdBySize(size)] ? ' stock--yes' : '') }}&quot;&gt;\r\n                            {{(!offers.AVAILABLE[store.getIdBySize(size)] ? 'нет' : '')}} в наличии&lt;/span&gt;\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </template>\r\n        <!-- Блок селекта фассовки малый вариант-->\r\n    `\r\n};","// https://swiper5.flandre.tw/api/\nimport Swiper from 'swiper';\n\nconst ELEMENTS_SELECTOR = {\n    slider: '[data-carousel]',\n    container: '[data-carousel-container]',\n    pagination: '[data-carousel-pagination]',\n    prev: '[data-carousel-prev]',\n    next: '[data-carousel-next]',\n    productImage: '.product-card__pic',\n    slide: '.slider__slide',\n};\n\nexport default function (update) {\n    $(ELEMENTS_SELECTOR.slider).each(function () {\n        const wrap = $(this);\n        const type = wrap.data('carousel');\n        const container = $(ELEMENTS_SELECTOR.container, wrap);\n        const prev = $(ELEMENTS_SELECTOR.prev, wrap);\n        const next = $(ELEMENTS_SELECTOR.next, wrap);\n        const pagination = $(ELEMENTS_SELECTOR.pagination, wrap);\n\n        if (update) {\n            document.querySelector(ELEMENTS_SELECTOR.container).swiper.loopDestroy();\n            document.querySelector(ELEMENTS_SELECTOR.container).swiper.loopCreate();\n            document.querySelector(ELEMENTS_SELECTOR.container).swiper.pagination.render();\n            document.querySelector(ELEMENTS_SELECTOR.container).swiper.update();\n            document.querySelector(ELEMENTS_SELECTOR.container).swiper.slideToLoop(0, 1000);\n           \n            const images = $(ELEMENTS_SELECTOR.productImage, wrap);\n            const imagesPag = pagination.find('.swiper-pagination-bullet__image');\n            \n            images.each((index, item) => {\n                const currentImage = images[index]?.getAttribute('poster') || images[index]?.getAttribute('src');\n                const video = images[index]?.getAttribute('poster') !== undefined;\n            \n                imagesPag.each((indexItem, element) => {\n                    const indexBullets = $(element).attr('data-index');\n\n                    if (indexItem === index) {\n                        $(element).attr('src', currentImage);\n                    }\n                })\n            })\n            \n            return;\n        }\n\n\n        let params = {\n            speed: 700,\n            navigation: {\n                nextEl: next,\n                prevEl: prev,\n            },\n            loop: true,\n        };\n\n        let paramsCustom = {};\n\n        switch (type) {\n            case 'main':\n                paramsCustom = {\n                    slidesPerView: 1,\n                    centeredSlides: true,\n                    pagination: {\n                        el: pagination,\n                        type: 'bullets',\n                        clickable: true,\n                    },\n                    breakpoints: {\n                        320: {\n                            spaceBetween: 10,\n                        },\n                        768: {\n                            spaceBetween: 20,\n                        },\n                    },\n                    on: {\n                        slideChange() {\n                            document.querySelector(ELEMENTS_SELECTOR.container).swiper.loopDestroy();\n                            document.querySelector(ELEMENTS_SELECTOR.container).swiper.loopCreate();\n                            document.querySelector(ELEMENTS_SELECTOR.container).swiper.update();\n                        },\n                    },\n                };\n                break;\n            case 'product':\n                const images = $(ELEMENTS_SELECTOR.productImage, wrap);\n\n                paramsCustom = {\n                    slidesPerView: 'auto',\n                    observer: true,\n                    observeParents: true,\n                    observeSlideChildren: true,\n                    pagination: {\n                        el: pagination,\n                        type: 'bullets',\n                        clickable: true,\n                        renderBullet(index, classname) {\n                            const currentImage = images[index]?.getAttribute('poster') || images[index]?.getAttribute('src');\n                            const video = images[index]?.getAttribute('poster');\n\n                            let vodeoIcon = '';\n                            if (video) {\n                                vodeoIcon = `\n                                    <span class=\"swiper-pagination-bullet__video\">\n                                        <svg class=\"icon icon--video\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-video\"></use>\n                                        </svg>\n                                    </span>\n                                `;\n                            }\n\n                            return `<div class=\"${classname}\">\n                                        ${vodeoIcon}\n                                        <img\n                                            src=\"${currentImage}\"\n                                            alt=\"вид товара ${index}\"\n                                            class=\"${classname}__image\"\n                                            data-index=\"${index}\"\n                                        />\n                                    </div>`;   \n                        },\n                    },\n                    breakpoints: {\n                        320: {\n                            spaceBetween: 10,\n                        },\n                        768: {\n                            spaceBetween: 20,\n                        },\n                        1440: {\n                            spaceBetween: 5,\n                            pagination: {\n                                dynamicBullets: true,\n                                dynamicMainBullets: 8,\n                            }\n                        }\n                    },\n                    on: {\n                        slideChange() {\n                            const currentSlide = $(ELEMENTS_SELECTOR.slide, wrap)[this.realIndex];\n                            const previousSlide = $(ELEMENTS_SELECTOR.slide, wrap)[this.previousIndex];\n                            const videoSlide = currentSlide.querySelector('video') || previousSlide.querySelector('video');\n\n                            if (videoSlide && !videoSlide?.paused) {\n                                videoSlide.pause();\n                            }\n                        },\n                    },\n                };\n                break;\n            default:\n                break;\n        }\n\n\n        params = $.extend(params, paramsCustom);\n\n        new Swiper(container, params);\n    });\n};\n","import {defineStore} from 'ui.vue3.pinia';\n\nexport const useWishlistStore = defineStore('wishlist', {\n    actions: {\n        async add(productId) { // (offerId)\n            return await BX.ajax.runComponentAction('zolo:wishlist', 'add', {\n                mode: 'class',\n                data: { productId },\n            });\n        },\n        async remove(productId) { // (offerId)\n            return await BX.ajax.runComponentAction('zolo:wishlist', 'remove', {\n                mode: 'class',\n                data: { productId },\n            });\n        },\n    },\n})","import {detailOfferStore} from \"../../../stores/detailOfferStore\";\nimport {mapState} from \"ui.vue3.pinia\";\nimport initSwiper from \"../../../../../../../../assets/js/modules/swiper\";\nimport {useWishlistStore} from \"../../../stores/wishlistStore\";\n\nexport const OfferImage = {\n    props: {\n        isAuthorized: {\n            type: Boolean,\n            required: true,\n        },\n        noImagePlaceholder: {\n            type: String,\n            required: true,\n        },\n    },\n\n    computed: {\n        ...mapState(detailOfferStore, ['offers', 'currentOfferId', 'images', 'inWishlist', 'toggleInWishlist']),\n        ...mapState(useWishlistStore, ['add', 'remove']),\n    },\n\n    setup() {\n        return { store: detailOfferStore() };\n    },\n\n    updated() {\n        initSwiper(true);\n    },\n\n    methods: {\n        toggleWishlist() {\n            this.inWishlist ? this.remove(this.currentOfferId) : this.add(this.currentOfferId);\n            this.toggleInWishlist();\n        },\n    },\n\n    template: ` \n            <div class=\"detail__card-slider slider slider--product\" data-carousel=\"product\" :class=\"'test-' + currentOfferId\">\n            <div class=\"swiper-container\" data-carousel-container :class=\"'test-' + currentOfferId\">\n                <div class=\"swiper-wrapper\" data-card-favourite-block :class=\"'test-' + currentOfferId\">\n                    <template v-if=\"images && images.length > 0\">\n                        <div v-for=\"(image) in images\" class=\"swiper-slide slider__slide\">\n                            <article v-bind:key=\"image.ID\" class=\"product-card product-card--slide box box--circle box--hovering box--border\">\n                                <div class=\"product-card__header\">\n                                    <div v-if=\"offers.DISCOUNT_LABELS[currentOfferId].NAME\"\n                                         v-bind:class=\"'product-card__label label label--' +  offers.DISCOUNT_LABELS[currentOfferId].COLOR\">\n                                      {{ offers.DISCOUNT_LABELS[currentOfferId].NAME }}\n                                      </div>\n                                    <div v-if=\"isAuthorized\" class=\"product-card__favourite\">\n                                        <button type=\"button\" class=\"product-card__favourite-button button button--ordinary button--iconed button--simple button--big button--red\" :data-card-favourite=\"inWishlist ? 'heart-fill' : 'heart'\" @click=\"toggleWishlist\">\n                                            <span class=\"button__icon button__icon--big\">\n                                                <svg class=\"icon icon--heart\">\n                                                    <use :xlink:href=\"'/local/templates/.default/images/icons/sprite.svg#icon-' + (inWishlist ? 'heart-fill' : 'heart')\"></use>\n                                                </svg>\n                                            </span>\n                                        </button>\n                                    </div>\n\n                                    <a v-bind:href=\"image.SRC\" data-fancybox=\"gallery\">\n                                        <div class=\"product-card__wrapper\">\n                                            <div class=\"product-card__image box box--circle\">\n                                                <div class=\"product-card__box\">\n                                                    <img v-bind:src=\"image.SRC\" v-bind:alt=\"offers.TITLE\" class=\"product-card__pic\">\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </a>\n                                </div>\n                            </article>\n                        </div>\n                    </template>\n                    <template v-else>\n                        <div class=\"swiper-slide slider__slide\">\n                            <article class=\"product-card product-card--slide box box--circle box--hovering box--border\">\n                                <div class=\"product-card__header\">\n                                  <div v-if=\"offers.DISCOUNT_LABELS[currentOfferId].NAME\"\n                                       v-bind:class=\"'product-card__label label label--' +  offers.DISCOUNT_LABELS[currentOfferId].COLOR\">\n                                    {{ offers.DISCOUNT_LABELS[currentOfferId].NAME}}\n                                  </div>\n    \n                                    <div v-if=\"isAuthorized\" class=\"product-card__favourite\">\n                                        <button type=\"button\" class=\"product-card__favourite-button button button--ordinary button--iconed button--simple button--big button--red\" :data-card-favourite=\"inWishlist ? 'heart-fill' : 'heart'\" @click=\"toggleWishlist\">\n                                            <span class=\"button__icon button__icon--big\">\n                                                <svg class=\"icon icon--heart\">\n                                                    <use :xlink:href=\"'/local/templates/.default/images/icons/sprite.svg#icon-' + (inWishlist ? 'heart-fill' : 'heart')\"></use>\n                                                </svg>\n                                            </span>\n                                        </button>\n                                    </div>\n    \n                                    <a :href=\"noImagePlaceholder\" data-fancybox=\"gallery\">\n                                        <div class=\"product-card__wrapper\">\n                                            <div class=\"product-card__image box box--circle\">\n                                                <div class=\"product-card__box\">\n                                                    <img :src=\"noImagePlaceholder\" v-bind:alt=\"offers.TITLE\" class=\"product-card__pic\">\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </a>\n                                </div>\n                            </article>\n                        </div>\n                    </template>\n                    \n                    <div v-if=\"offers.PRODUCT_VIDEO\" class=\"swiper-slide slider__slide\">\n                        <article class=\"product-card product-card--slide box box--circle box--hovering box--border\">\n                            <div class=\"product-card__header\">\n                                <div v-if=\"offers.DISCOUNT_LABELS[currentOfferId].NAME\"\n                                  v-bind:class=\"'product-card__label label label--' +  offers.DISCOUNT_LABELS[currentOfferId].COLOR\">\n                                  {{ offers.DISCOUNT_LABELS[currentOfferId].NAME}}\n                                </div>\n                                <div v-if=\"isAuthorized\" class=\"product-card__favourite\">\n                                    <button type=\"button\" class=\"product-card__favourite-button button button--ordinary button--iconed button--simple button--big button--red\" data-card-favourite=\"heart\" @click=\"toggleWishlist\">\n                                    <span class=\"button__icon button__icon--big\">\n                                        <svg class=\"icon icon--heart\">\n                                            <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-heart\" data-card-favourite-icon></use>\n                                        </svg>\n                                    </span>\n                                    </button>\n                                </div>\n\n                                <a v-bind:href=\"offers.PRODUCT_VIDEO.path\" data-fancybox=\"gallery\">\n                                    <div class=\"product-card__wrapper\">\n                                        <div class=\"product-card__image box box--circle\">\n                                            <div class=\"product-card__box\">\n                                                <video v-bind:src=\"offers.PRODUCT_VIDEO.path\" poster=\"/local/templates/.default/images/detail-slide.png\" controls class=\"product-card__pic\"></video>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </a>\n                            </div>\n                        </article>\n                    </div>\n                </div>\n\n                <div class=\"slider__buttons\">\n                    <div class=\"slider__buttons-item swiper-button-prev\" data-carousel-prev>\n                        <button type=\"button\" class=\"slider__button slider__button--prev button button--circular button--small button--mixed button--gray-red button--shadow\">\n                            <span class=\"button__icon\">\n                                <svg class=\"icon icon--arrow-slider\">\n                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-slider\"></use>\n                                </svg>\n                            </span>\n                        </button>\n                    </div>\n\n                    <div class=\"swiper-pagination pagination pagination--image\" data-carousel-pagination></div>\n\n                    <div class=\"slider__buttons-item swiper-button-next\" data-carousel-next>\n                        <button type=\"button\" class=\"slider__button slider__button--next button button--circular button--small button--mixed button--gray-red button--shadow\">\n                            <span class=\"button__icon\">\n                                <svg class=\"icon icon--arrow-slider\">\n                                    <use xlink:href=\"/local/templates/.default/images/icons/sprite.svg#icon-arrow-slider\"></use>\n                                </svg>\n                            </span>\n                        </button>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    `\n}","import { MiniBasket } from '../../components/miniBasket/src/component';\nimport { SalesReportPage } from '../../components/salesReportPage/src/component';\nimport { Pets } from '../../components/pets/src/component';\nimport { PersonalData } from '../../components/personalData/src/component';\nimport { LegalEntity } from '../../components/legalEntity/src/component';\nimport { SelectOffer } from \"../../components/detailOffers/src/offerSelect\";\nimport { OfferArticle } from \"../../components/detailOffers/src/offerArticle\";\nimport { OfferPrice } from \"../../components/detailOffers/src/offerPrice\";\nimport { SelectOfferMobile } from \"../../components/detailOffers/src/offerSelectMobile\";\nimport { OfferImage } from \"../../components/detailOffers/src/offerImage\";\nimport { LoyaltyStatusTale } from \"../../components/loyaltyStatusTale/src/component\";\n\nexport default {\n    // Обязательно сверху\n    '#miniBasket': MiniBasket,\n\n    '#pets': Pets,\n    '#personalData': PersonalData,\n    '#legalEntity': LegalEntity,\n    '#salesReportPage': SalesReportPage,\n\n    '#loyaltyStatusTale': LoyaltyStatusTale,\n    // DetailOfferPage components\n    '#offerSelect':  SelectOffer,\n    '#offerArticle':  OfferArticle,\n    '#offerSelectMobile':  SelectOfferMobile,\n    '#imageSlider': OfferImage,\n    '#offerPrice':  OfferPrice,\n};","import {detailOfferStore} from \"../../stores/detailOfferStore\";\r\nimport {useBasketStore} from \"../../stores/basketStore\";\r\nimport {useWishlistStore} from \"../../stores/wishlistStore\";\r\n\r\nexport default {\r\n    '#detailofferStore': {\r\n        name: 'detailOfferStore',\r\n        instance: detailOfferStore,\r\n    },\r\n    '#basketStore': {\r\n        name: 'basketStore',\r\n        instance: useBasketStore,\r\n    },\r\n    '#wishlistStore': {\r\n        name: 'wishlistStore',\r\n        instance: useWishlistStore,\r\n    },\r\n}","import { BitrixVue } from 'ui.vue3';\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\nimport applicationsToRender from './applicationsToRender';\nimport storesToLoad from \"./storesToLoad\";\n\nexport class Loader {\n    run() {\n        const pinia = createPinia();\n\n        window.stores = {};\n        setActivePinia(pinia);\n        for (const dataRoot in storesToLoad) {\n            this.loadStore(dataRoot, storesToLoad[dataRoot]);\n        }\n\n        for (const applicationRoot in applicationsToRender) {\n            this.renderApplication(applicationRoot, applicationsToRender[applicationRoot], pinia);\n        }\n    }\n\n    loadStore(root, store) {\n        const storeInstance = store.instance();\n        window.stores[store.name] = storeInstance;\n\n        const rootElement = document.querySelector(root);\n        if (rootElement) {\n            let props = this.loadProperties(rootElement);\n            for (const attributeName in props) {\n                let data = props[attributeName];\n                if (data) {\n                    // Для загрузки из атрибута store должен релизовывать метод load(имя_свойства, данные)\n                    // имя пропсы prop-some-name преобразуется в имя свойства someName\n                    storeInstance.load(attributeName, data);\n                } else {\n                    console.log('Error getting data from root ' + root + ' ' + attributeName);\n                }\n            }\n        }\n    }\n\n    loadProperties(rootElement) {\n        let props = {};\n        for (const attribute of rootElement.attributes) {\n            if (attribute.name.startsWith('prop-')) {\n                let attributeName = attribute.name\n                    .substring(5)\n                    .replace(/-./g, x => x[1].toUpperCase());\n                try {\n                    props[attributeName] = JSON.parse(attribute.value);\n                } catch (error) {\n                    props[attributeName] = attribute.value;\n                }\n            }\n        }\n        return props;\n    }\n\n    renderApplication(selector, component, pinia) {\n        const elements = document.querySelectorAll(selector);\n\n        if (elements && elements.length) {\n            for (const element of elements) {\n                const app = BitrixVue.createApp(component, this.loadProperties(element));\n                app.use(pinia);\n                app.mount(element);\n            }\n        }\n    }\n}"],"names":["useBasketStore","defineStore","state","fetched","items","itemsCount","undefined","basketPrice","loading","actions","getItem","id","fetchBasketTotals","BX","ajax","runComponentAction","data","withPersonalPromotions","window","location","pathname","then","response","increaseItem","offerId","detailPage","nonreturnable","decreaseItem","quantity","repeatOrder","orderId","missedProducts","methods","formatNumber","number","useDecimals","Math","round","parseFloat","result","toFixed","replace","substring","length","MiniBasket","mixins","NumberFormatMixin","setup","store","computed","showPriceWhole","item","numberFloor","floor","toLocaleString","minimumFractionDigits","showPriceRemains","numberFixed","totalRemains","toString","split","template","useLoyaltySalesReportStore","getDataByPeriod","from","to","mode","getTeamMembersDataByPeriod","ids","LoyaltyStatusTale","props","currentValue","type","Number","required","targetValue","label","String","isHold","Boolean","isConsultant","OrdersReport","isGroup","label2","ordersReport","Object","LoyaltyReport","components","componentId","mutableLoyaltyStatus","mutableBonusesIncome","mutableOrdersReport","user","currentAccountingPeriod","accountingPeriods","Array","loyaltyStatus","bonusesIncome","accordion","title","loyaltySalesReportStore","created","mounted","$","on","changeAccountingPeriod","acceptColor","period","val","loyalty_status","orders_report","bonuses_income","component","diagram","dataChart","js_data","myChart","labels","datasets","backgroundColor","context","value","chart","map","index","update","SalesReportPage","consultantsSortAsc","consultantsSort","buyersSortAsc","buyersSort","consultantsLoyaltyLevelFilter","buyersLoyaltyLevelFilter","mutableConsultants","mutableBuyers","consultantLoyaltyLevels","buyerLoyaltyLevels","consultantAccountingPeriods","buyerAccountingPeriods","currentUser","team","consultantsMembers","filter","consultant","includes","user_info","loyalty_level","sort","a","b","aPrepared","bPrepared","aDate","bDate","parseInt","date_register","Date","getTime","self","paid_orders_count","refunded_orders_count","total_sum","total","current_period_sum","last_order_date","isNaN","all_total","buyersMembers","buyer","consultants","buyers","changeConsultantAccountingPeriod","changeBuyerAccountingPeriod","i","$refs","usePetStore","deletePet","petId","addPet","pet","changePet","ELEMENTS_SELECTOR","selectBox","selectControl","select2Container","initSelect","jqObj","baseOptions","templateResult","formatState","templateSelection","before","element","after","classItem","text","searchDisabled","searchfield","parent","find","prop","scrollOptions","autohidemode","railpadding","top","right","left","bottom","selectsContainer","document","body","each","select","$selectBox","closest","petsBreed","language","placeholder","attr","currentOptions","dropdownParent","select2","e","$select","$selectContainer","siblings","$selectList","niceScroll","multiple","html","counter","uppercaseFirst","string","toUpperCase","Select","StringFormatMixin","name","options","selected","iconed","$emit","getIconPath","icon","DateInput","watch","newValue","Pets","originalPets","mutablePets","pets","genders","breeds","kinds","petStore","JSON","parse","stringify","values","push","now","editing","indexOf","splice","checkPetAvailable","petReplaceValue","birthdate","petBirthdateLenght","kind","breed","gender","cancelEditing","petKey","savePet","setTimeout","tippy","theme","arrow","appendTo","usePersonalDataStore","savePersonalData","userInfo","sendCode","verifyCode","code","PersonalData","mutableUserInfo","phoneError","emailError","passwordError","phoneVerified","emailVerified","verifyError","confirmationType","cities","pickupPoints","userCity","city","validatePassword","password","confirm_password","match","toLowerCase","personalDataStore","initUserInfo","saveUserInfo","error","last_name","replaceAll","slice","first_name","second_name","phone","email","photo_id","fancybox","open","src","status","Error","message","codeInput","close","useDropzoneStore","uploadFile","files","deleteFile","Dropzone","event","FormData","target","append","fileInfo","file","useLegalEntityStore","saveLegalEntityData","LegalEntity","originalLegalEntity","mutableLegalEntity","legalEntity","types","legalEntityStore","initLegalEntity","changeLegalEntityType","edit","css","trigger","saveChanges","documents","detailOfferStore","offers","currentOfferId","getters","article","ARTICLES","images","PHOTOS","packagings","PACKAGINGS","colors","COLORS","currentColor","currentSize","SIZES","color2Size","COLOR2SIZE","size2Color","SIZE2COLOR","allColors","ALL_COLORS","price","PRICES","bonuses","BONUSES_PRICES","catalogQuantity","OFFERS","CATALOG_QUANTITY","isNonreturnable","NONRETURNABLE","inWishlist","IN_WISHLIST","getIdByColor","color","size","getIdBySize","load","checkAvailable","AVAILABLE","setStore","setOffer","toggleInWishlist","SelectOffer","isSizeRestricted","setSelectOffer","updated","mapState","getColorOffer","keys","first","OfferArticle","isMobile","OfferPrice","isAuthorized","inCartState","offerStore","basketStore","SelectOfferMobile","selectFlag","slider","container","pagination","prev","next","productImage","slide","wrap","querySelector","swiper","loopDestroy","loopCreate","render","slideToLoop","imagesPag","currentImage","getAttribute","video","indexItem","indexBullets","params","speed","navigation","nextEl","prevEl","loop","paramsCustom","slidesPerView","centeredSlides","el","clickable","breakpoints","spaceBetween","slideChange","observer","observeParents","observeSlideChildren","renderBullet","classname","vodeoIcon","dynamicBullets","dynamicMainBullets","currentSlide","realIndex","previousSlide","previousIndex","videoSlide","paused","pause","extend","Swiper","useWishlistStore","add","productId","remove","OfferImage","noImagePlaceholder","initSwiper","toggleWishlist","instance","Loader","pinia","createPinia","stores","setActivePinia","dataRoot","storesToLoad","loadStore","applicationRoot","applicationsToRender","renderApplication","root","storeInstance","rootElement","loadProperties","attributeName","console","log","attributes","attribute","startsWith","x","selector","elements","querySelectorAll","app","BitrixVue","createApp","use","mount"],"mappings":"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"}